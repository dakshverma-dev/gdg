/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/patient/create/route";
exports.ids = ["app/api/patient/create/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpatient%2Fcreate%2Froute&page=%2Fapi%2Fpatient%2Fcreate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpatient%2Fcreate%2Froute.ts&appDir=D%3A%5Chackathon%5Cgdg%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Chackathon%5Cgdg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpatient%2Fcreate%2Froute&page=%2Fapi%2Fpatient%2Fcreate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpatient%2Fcreate%2Froute.ts&appDir=D%3A%5Chackathon%5Cgdg%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Chackathon%5Cgdg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var D_hackathon_gdg_src_app_api_patient_create_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/patient/create/route.ts */ \"(rsc)/./src/app/api/patient/create/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/patient/create/route\",\n        pathname: \"/api/patient/create\",\n        filename: \"route\",\n        bundlePath: \"app/api/patient/create/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"D:\\\\hackathon\\\\gdg\\\\src\\\\app\\\\api\\\\patient\\\\create\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_hackathon_gdg_src_app_api_patient_create_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/patient/create/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwYXRpZW50JTJGY3JlYXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwYXRpZW50JTJGY3JlYXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGF0aWVudCUyRmNyZWF0ZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDaGFja2F0aG9uJTVDZ2RnJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDaGFja2F0aG9uJTVDZ2RnJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQ3VCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1QztBQUMvRDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOLDZCQUE2Qiw2RkFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcaGFja2F0aG9uXFxcXGdkZ1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwYXRpZW50XFxcXGNyZWF0ZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGF0aWVudC9jcmVhdGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wYXRpZW50L2NyZWF0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcGF0aWVudC9jcmVhdGUvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcaGFja2F0aG9uXFxcXGdkZ1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwYXRpZW50XFxcXGNyZWF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX25leHRDb25maWdfZXhwZXJpbWVudGFsO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL3BhdGllbnQvY3JlYXRlL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpatient%2Fcreate%2Froute&page=%2Fapi%2Fpatient%2Fcreate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpatient%2Fcreate%2Froute.ts&appDir=D%3A%5Chackathon%5Cgdg%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Chackathon%5Cgdg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/patient/create/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/patient/create/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_agents_intake__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/agents/intake */ \"(rsc)/./src/lib/agents/intake.ts\");\n/* harmony import */ var _lib_agents_triage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/agents/triage */ \"(rsc)/./src/lib/agents/triage.ts\");\n/* harmony import */ var _lib_agents_queue_prediction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/agents/queue-prediction */ \"(rsc)/./src/lib/agents/queue-prediction.ts\");\n/* harmony import */ var _lib_agents_clinical_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/agents/clinical-alert */ \"(rsc)/./src/lib/agents/clinical-alert.ts\");\n/* harmony import */ var _lib_agents_admin_workflow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/agents/admin-workflow */ \"(rsc)/./src/lib/agents/admin-workflow.ts\");\n/* harmony import */ var _lib_agents_document_analysis__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/agents/document-analysis */ \"(rsc)/./src/lib/agents/document-analysis.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/store */ \"(rsc)/./src/lib/store.ts\");\n// POST /api/patient/create\n// Main patient creation endpoint - orchestrates all 6 agents\n\n\n\n\n\n\n\n\n\nasync function POST(request) {\n    console.log(\"\\n========== NEW PATIENT CREATION REQUEST ==========\");\n    try {\n        // Parse request body\n        const body = await request.json();\n        console.log(\"[API] Received input:\", {\n            ...body,\n            documents: body.documents?.length || 0\n        });\n        // ============================================\n        // Step 1: Run Agent 1 (Intake - normalize data)\n        // ============================================\n        let normalizedData;\n        try {\n            normalizedData = (0,_lib_agents_intake__WEBPACK_IMPORTED_MODULE_1__.processIntake)(body);\n        } catch (error) {\n            const message = error instanceof Error ? error.message : \"Invalid input\";\n            console.error(\"[API] Intake validation failed:\", message);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: message\n            }, {\n                status: 400\n            });\n        }\n        // ============================================\n        // Step 1.5: Run Agent 6 (Document Analysis) if documents uploaded\n        // ============================================\n        let documentAnalysis = null;\n        if (body.documents && body.documents.length > 0) {\n            console.log(\"[API] Analyzing\", body.documents.length, \"uploaded documents...\");\n            documentAnalysis = await (0,_lib_agents_document_analysis__WEBPACK_IMPORTED_MODULE_6__.analyzeMultipleDocuments)(body.documents.map((doc)=>({\n                    base64Data: doc.base64Data,\n                    mimeType: doc.mimeType,\n                    documentType: doc.name.toLowerCase().includes('lab') ? 'lab_report' : doc.name.toLowerCase().includes('prescription') ? 'prescription' : 'medical_record'\n                })));\n            console.log(\"[API] Document analysis complete:\", {\n                conditionsFound: documentAnalysis.conditions.length,\n                medicationsFound: documentAnalysis.medications.length,\n                allergiesFound: documentAnalysis.allergies.length\n            });\n            // Merge document findings with patient-provided info\n            if (documentAnalysis.conditions.length > 0) {\n                const existingConditions = normalizedData.chronicConditions || '';\n                const docConditions = documentAnalysis.conditions.join(', ');\n                normalizedData.chronicConditions = existingConditions ? `${existingConditions}, [From Documents: ${docConditions}]` : `[From Documents: ${docConditions}]`;\n            }\n            if (documentAnalysis.medications.length > 0) {\n                const existingMeds = normalizedData.currentMedications || '';\n                const docMeds = documentAnalysis.medications.join(', ');\n                normalizedData.currentMedications = existingMeds ? `${existingMeds}, [From Documents: ${docMeds}]` : `[From Documents: ${docMeds}]`;\n            }\n            if (documentAnalysis.allergies.length > 0) {\n                const existingAllergies = normalizedData.allergies || '';\n                const docAllergies = documentAnalysis.allergies.join(', ');\n                normalizedData.allergies = existingAllergies ? `${existingAllergies}, [From Documents: ${docAllergies}]` : `[From Documents: ${docAllergies}]`;\n            }\n        }\n        // ============================================\n        // Step 2: Run Agent 2 (AI Triage) - now with document insights\n        // ============================================\n        const triageResult = await (0,_lib_agents_triage__WEBPACK_IMPORTED_MODULE_2__.analyzePatient)(normalizedData.age, normalizedData.symptoms, {\n            chronicConditions: normalizedData.chronicConditions,\n            currentMedications: normalizedData.currentMedications,\n            allergies: normalizedData.allergies\n        });\n        console.log(\"[API] Triage result:\", triageResult);\n        // ============================================\n        // Step 3: Run Agent 3 (Queue Prediction)\n        // ============================================\n        // Get queue data from in-memory store (will be Firebase later)\n        const storedQueueData = (0,_lib_store__WEBPACK_IMPORTED_MODULE_8__.getQueueForDepartment)(triageResult.department);\n        const queueData = storedQueueData || {\n            activePatients: 0,\n            avgConsultTime: 15\n        };\n        const queuePrediction = (0,_lib_agents_queue_prediction__WEBPACK_IMPORTED_MODULE_3__.predictQueue)(triageResult.department, triageResult.priority, queueData);\n        console.log(\"[API] Queue prediction:\", queuePrediction);\n        // ============================================\n        // Step 4: Run Agent 4 (Clinical Alert Check)\n        // ============================================\n        const createAlert = (0,_lib_agents_clinical_alert__WEBPACK_IMPORTED_MODULE_4__.shouldCreateAlert)(triageResult.priority, normalizedData.age, normalizedData.symptoms);\n        console.log(\"[API] Should create alert:\", createAlert);\n        // ============================================\n        // Step 5: Run Agent 5 (Admin Suggestion)\n        // ============================================\n        const adminSuggestion = await (0,_lib_agents_admin_workflow__WEBPACK_IMPORTED_MODULE_5__.getAdminSuggestion)(queueData.activePatients, queueData.avgConsultTime);\n        console.log(\"[API] Admin suggestion:\", adminSuggestion);\n        // ============================================\n        // Prepare response data\n        // ============================================\n        const patientId = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.generateId)();\n        const alertId = createAlert ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.generateId)() : null;\n        // Prepare patient record for Firebase\n        const patientRecord = {\n            id: patientId,\n            name: normalizedData.name,\n            age: normalizedData.age,\n            symptoms: normalizedData.symptoms,\n            priority: triageResult.priority,\n            department: triageResult.department,\n            token: queuePrediction.token,\n            eta: queuePrediction.eta,\n            position: queuePrediction.position,\n            reason: triageResult.reason,\n            hasAlert: createAlert,\n            createdAt: normalizedData.timestamp\n        };\n        // Prepare alert for Firebase (if needed)\n        const alertRecord = createAlert ? {\n            id: alertId,\n            patientId: patientId,\n            patientName: normalizedData.name,\n            priority: \"HIGH\",\n            reason: (0,_lib_agents_clinical_alert__WEBPACK_IMPORTED_MODULE_4__.getAlertReason)(triageResult.priority, normalizedData.age, normalizedData.symptoms),\n            department: triageResult.department,\n            resolved: false,\n            createdAt: normalizedData.timestamp\n        } : null;\n        // Build response\n        const response = {\n            success: true,\n            slip: {\n                token: queuePrediction.token,\n                name: normalizedData.name,\n                department: triageResult.department,\n                priority: triageResult.priority,\n                eta: queuePrediction.eta,\n                position: queuePrediction.position,\n                reason: triageResult.reason\n            },\n            adminSuggestion: adminSuggestion,\n            // For Firebase team (internal use - not sent to frontend in production)\n            _firebaseData: {\n                patient: patientRecord,\n                alert: alertRecord,\n                queueUpdate: {\n                    department: triageResult.department,\n                    increment: 1\n                }\n            }\n        };\n        console.log(\"[API] SUCCESS - Returning slip data\");\n        console.log(\"========== REQUEST COMPLETE ==========\\n\");\n        // Save to in-memory store (will be Firebase later)\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_8__.addPatient)(patientRecord);\n        if (alertRecord) {\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_8__.addAlert)(alertRecord);\n        }\n        console.log(\"[API] Patient saved to store\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[API] Unexpected error:\", error);\n        const message = error instanceof Error ? error.message : \"An unexpected error occurred\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYXRpZW50L2NyZWF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsMkJBQTJCO0FBQzNCLDZEQUE2RDtBQUVMO0FBQ0o7QUFDQztBQUNRO0FBQ21CO0FBQ2Y7QUFDaUM7QUFDekQ7QUFDaUM7QUFrQm5FLGVBQWVZLEtBQUtDLE9BQW9CO0lBQzNDQyxRQUFRQyxHQUFHLENBQUM7SUFFWixJQUFJO1FBQ0EscUJBQXFCO1FBQ3JCLE1BQU1DLE9BQU8sTUFBTUgsUUFBUUksSUFBSTtRQUMvQkgsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QjtZQUFFLEdBQUdDLElBQUk7WUFBRUUsV0FBV0YsS0FBS0UsU0FBUyxFQUFFQyxVQUFVO1FBQUU7UUFFdkYsK0NBQStDO1FBQy9DLGdEQUFnRDtRQUNoRCwrQ0FBK0M7UUFDL0MsSUFBSUM7UUFDSixJQUFJO1lBQ0FBLGlCQUFpQm5CLGlFQUFhQSxDQUFDZTtRQUNuQyxFQUFFLE9BQU9LLE9BQU87WUFDWixNQUFNQyxVQUFVRCxpQkFBaUJFLFFBQVFGLE1BQU1DLE9BQU8sR0FBRztZQUN6RFIsUUFBUU8sS0FBSyxDQUFDLG1DQUFtQ0M7WUFDakQsT0FBT3RCLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUNwQjtnQkFBRU8sU0FBUztnQkFBT0gsT0FBT0M7WUFBUSxHQUNqQztnQkFBRUcsUUFBUTtZQUFJO1FBRXRCO1FBRUEsK0NBQStDO1FBQy9DLGtFQUFrRTtRQUNsRSwrQ0FBK0M7UUFDL0MsSUFBSUMsbUJBQWtEO1FBQ3RELElBQUlWLEtBQUtFLFNBQVMsSUFBSUYsS0FBS0UsU0FBUyxDQUFDQyxNQUFNLEdBQUcsR0FBRztZQUM3Q0wsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQkMsS0FBS0UsU0FBUyxDQUFDQyxNQUFNLEVBQUU7WUFDdERPLG1CQUFtQixNQUFNbkIsdUZBQXdCQSxDQUM3Q1MsS0FBS0UsU0FBUyxDQUFDUyxHQUFHLENBQUNDLENBQUFBLE1BQVE7b0JBQ3ZCQyxZ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LFlBQVlKLGFBQWFJLFVBQVU7Z0JBQ25DSyxVQUFVVCxhQUFhUyxRQUFRO2dCQUMvQlEsS0FBS1QsZ0JBQWdCUyxHQUFHO2dCQUN4QkMsVUFBVVYsZ0JBQWdCVSxRQUFRO2dCQUNsQ0MsUUFBUW5CLGFBQWFtQixNQUFNO1lBQy9CO1lBQ0FSLGlCQUFpQkE7WUFFakIsd0VBQXdFO1lBQ3hFaUIsZUFBZTtnQkFDWEMsU0FBU2Y7Z0JBQ1RnQixPQUFPUDtnQkFDUFEsYUFBYTtvQkFDVDNCLFlBQVlKLGFBQWFJLFVBQVU7b0JBQ25DNEIsV0FBVztnQkFDZjtZQUNKO1FBQ0o7UUFFQXBFLFFBQVFDLEdBQUcsQ0FBQztRQUNaRCxRQUFRQyxHQUFHLENBQUM7UUFFWixtREFBbUQ7UUFDbkROLHNEQUFVQSxDQUFDdUQ7UUFDWCxJQUFJUyxhQUFhO1lBQ2IvRCxvREFBUUEsQ0FBQytEO1FBQ2I7UUFFQTNELFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9mLHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDMkQsVUFBVTtZQUFFbkQsUUFBUTtRQUFJO0lBRXJELEVBQUUsT0FBT0osT0FBTztRQUNaUCxRQUFRTyxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxNQUFNQyxVQUFVRCxpQkFBaUJFLFFBQVFGLE1BQU1DLE9BQU8sR0FBRztRQUV6RCxPQUFPdEIscURBQVlBLENBQUNpQixJQUFJLENBQ3BCO1lBQUVPLFNBQVM7WUFBT0gsT0FBT0M7UUFBUSxHQUNqQztZQUFFRyxRQUFRO1FBQUk7SUFFdEI7QUFDSiIsInNvdXJjZXMiOlsiRDpcXGhhY2thdGhvblxcZ2RnXFxzcmNcXGFwcFxcYXBpXFxwYXRpZW50XFxjcmVhdGVcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBPU1QgL2FwaS9wYXRpZW50L2NyZWF0ZVxyXG4vLyBNYWluIHBhdGllbnQgY3JlYXRpb24gZW5kcG9pbnQgLSBvcmNoZXN0cmF0ZXMgYWxsIDYgYWdlbnRzXHJcblxyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBwcm9jZXNzSW50YWtlIH0gZnJvbSAnQC9saWIvYWdlbnRzL2ludGFrZSc7XHJcbmltcG9ydCB7IGFuYWx5emVQYXRpZW50IH0gZnJvbSAnQC9saWIvYWdlbnRzL3RyaWFnZSc7XHJcbmltcG9ydCB7IHByZWRpY3RRdWV1ZSB9IGZyb20gJ0AvbGliL2FnZW50cy9xdWV1ZS1wcmVkaWN0aW9uJztcclxuaW1wb3J0IHsgc2hvdWxkQ3JlYXRlQWxlcnQsIGdldEFsZXJ0UmVhc29uIH0gZnJvbSAnQC9saWIvYWdlbnRzL2NsaW5pY2FsLWFsZXJ0JztcclxuaW1wb3J0IHsgZ2V0QWRtaW5TdWdnZXN0aW9uIH0gZnJvbSAnQC9saWIvYWdlbnRzL2FkbWluLXdvcmtmbG93JztcclxuaW1wb3J0IHsgYW5hbHl6ZU11bHRpcGxlRG9jdW1lbnRzLCBEb2N1bWVudEFuYWx5c2lzUmVzdWx0IH0gZnJvbSAnQC9saWIvYWdlbnRzL2RvY3VtZW50LWFuYWx5c2lzJztcclxuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gJ0AvbGliL3V0aWxzJztcclxuaW1wb3J0IHsgYWRkUGF0aWVudCwgYWRkQWxlcnQsIGdldFF1ZXVlRm9yRGVwYXJ0bWVudCB9IGZyb20gJ0AvbGliL3N0b3JlJztcclxuaW1wb3J0IHR5cGUge1xyXG4gICAgUGF0aWVudElucHV0LFxyXG4gICAgUGF0aWVudFJlY29yZCxcclxuICAgIEFsZXJ0LFxyXG4gICAgQ3JlYXRlUGF0aWVudFJlc3BvbnNlLFxyXG4gICAgUXVldWVEYXRhXHJcbn0gZnJvbSAnQC9saWIvdHlwZXMnO1xyXG5cclxuLy8gRXh0ZW5kZWQgaW5wdXQgdHlwZSB3aXRoIGRvY3VtZW50c1xyXG5pbnRlcmZhY2UgUGF0aWVudElucHV0V2l0aERvY3MgZXh0ZW5kcyBQYXRpZW50SW5wdXQge1xyXG4gICAgZG9jdW1lbnRzPzogQXJyYXk8e1xyXG4gICAgICAgIG5hbWU6IHN0cmluZztcclxuICAgICAgICBtaW1lVHlwZTogc3RyaW5nO1xyXG4gICAgICAgIGJhc2U2NERhdGE6IHN0cmluZztcclxuICAgIH0+O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gICAgY29uc29sZS5sb2coXCJcXG49PT09PT09PT09IE5FVyBQQVRJRU5UIENSRUFUSU9OIFJFUVVFU1QgPT09PT09PT09PVwiKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFBhcnNlIHJlcXVlc3QgYm9keVxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKSBhcyBQYXRpZW50SW5wdXRXaXRoRG9jcztcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBUEldIFJlY2VpdmVkIGlucHV0OlwiLCB7IC4uLmJvZHksIGRvY3VtZW50czogYm9keS5kb2N1bWVudHM/Lmxlbmd0aCB8fCAwIH0pO1xyXG5cclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIFN0ZXAgMTogUnVuIEFnZW50IDEgKEludGFrZSAtIG5vcm1hbGl6ZSBkYXRhKVxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWREYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWREYXRhID0gcHJvY2Vzc0ludGFrZShib2R5KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkludmFsaWQgaW5wdXRcIjtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIltBUEldIEludGFrZSB2YWxpZGF0aW9uIGZhaWxlZDpcIiwgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBtZXNzYWdlIH0sXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gU3RlcCAxLjU6IFJ1biBBZ2VudCA2IChEb2N1bWVudCBBbmFseXNpcykgaWYgZG9jdW1lbnRzIHVwbG9hZGVkXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICBsZXQgZG9jdW1lbnRBbmFseXNpczogRG9jdW1lbnRBbmFseXNpc1Jlc3VsdCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGlmIChib2R5LmRvY3VtZW50cyAmJiBib2R5LmRvY3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0FQSV0gQW5hbHl6aW5nXCIsIGJvZHkuZG9jdW1lbnRzLmxlbmd0aCwgXCJ1cGxvYWRlZCBkb2N1bWVudHMuLi5cIik7XHJcbiAgICAgICAgICAgIGRvY3VtZW50QW5hbHlzaXMgPSBhd2FpdCBhbmFseXplTXVsdGlwbGVEb2N1bWVudHMoXHJcbiAgICAgICAgICAgICAgICBib2R5LmRvY3VtZW50cy5tYXAoZG9jID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZTY0RGF0YTogZG9jLmJhc2U2NERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IGRvYy5taW1lVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudFR5cGU6IGRvYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2xhYicpID8gJ2xhYl9yZXBvcnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncHJlc2NyaXB0aW9uJykgPyAncHJlc2NyaXB0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbWVkaWNhbF9yZWNvcmQnXHJcbiAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbQVBJXSBEb2N1bWVudCBhbmFseXNpcyBjb21wbGV0ZTpcIiwge1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uc0ZvdW5kOiBkb2N1bWVudEFuYWx5c2lzLmNvbmRpdGlvbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWVkaWNhdGlvbnNGb3VuZDogZG9jdW1lbnRBbmFseXNpcy5tZWRpY2F0aW9ucy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBhbGxlcmdpZXNGb3VuZDogZG9jdW1lbnRBbmFseXNpcy5hbGxlcmdpZXMubGVuZ3RoXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gTWVyZ2UgZG9jdW1lbnQgZmluZGluZ3Mgd2l0aCBwYXRpZW50LXByb3ZpZGVkIGluZm9cclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50QW5hbHlzaXMuY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0NvbmRpdGlvbnMgPSBub3JtYWxpemVkRGF0YS5jaHJvbmljQ29uZGl0aW9ucyB8fCAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvY0NvbmRpdGlvbnMgPSBkb2N1bWVudEFuYWx5c2lzLmNvbmRpdGlvbnMuam9pbignLCAnKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWREYXRhLmNocm9uaWNDb25kaXRpb25zID0gZXhpc3RpbmdDb25kaXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgPyBgJHtleGlzdGluZ0NvbmRpdGlvbnN9LCBbRnJvbSBEb2N1bWVudHM6ICR7ZG9jQ29uZGl0aW9uc31dYFxyXG4gICAgICAgICAgICAgICAgICAgIDogYFtGcm9tIERvY3VtZW50czogJHtkb2NDb25kaXRpb25zfV1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudEFuYWx5c2lzLm1lZGljYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTWVkcyA9IG5vcm1hbGl6ZWREYXRhLmN1cnJlbnRNZWRpY2F0aW9ucyB8fCAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvY01lZHMgPSBkb2N1bWVudEFuYWx5c2lzLm1lZGljYXRpb25zLmpvaW4oJywgJyk7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRGF0YS5jdXJyZW50TWVkaWNhdGlvbnMgPSBleGlzdGluZ01lZHNcclxuICAgICAgICAgICAgICAgICAgICA/IGAke2V4aXN0aW5nTWVkc30sIFtGcm9tIERvY3VtZW50czogJHtkb2NNZWRzfV1gXHJcbiAgICAgICAgICAgICAgICAgICAgOiBgW0Zyb20gRG9jdW1lbnRzOiAke2RvY01lZHN9XWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50QW5hbHlzaXMuYWxsZXJnaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQWxsZXJnaWVzID0gbm9ybWFsaXplZERhdGEuYWxsZXJnaWVzIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9jQWxsZXJnaWVzID0gZG9jdW1lbnRBbmFseXNpcy5hbGxlcmdpZXMuam9pbignLCAnKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWREYXRhLmFsbGVyZ2llcyA9IGV4aXN0aW5nQWxsZXJnaWVzXHJcbiAgICAgICAgICAgICAgICAgICAgPyBgJHtleGlzdGluZ0FsbGVyZ2llc30sIFtGcm9tIERvY3VtZW50czogJHtkb2NBbGxlcmdpZXN9XWBcclxuICAgICAgICAgICAgICAgICAgICA6IGBbRnJvbSBEb2N1bWVudHM6ICR7ZG9jQWxsZXJnaWVzfV1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIFN0ZXAgMjogUnVuIEFnZW50IDIgKEFJIFRyaWFnZSkgLSBub3cgd2l0aCBkb2N1bWVudCBpbnNpZ2h0c1xyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgY29uc3QgdHJpYWdlUmVzdWx0ID0gYXdhaXQgYW5hbHl6ZVBhdGllbnQoXHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWREYXRhLmFnZSxcclxuICAgICAgICAgICAgbm9ybWFsaXplZERhdGEuc3ltcHRvbXMsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNocm9uaWNDb25kaXRpb25zOiBub3JtYWxpemVkRGF0YS5jaHJvbmljQ29uZGl0aW9ucyxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRNZWRpY2F0aW9uczogbm9ybWFsaXplZERhdGEuY3VycmVudE1lZGljYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgYWxsZXJnaWVzOiBub3JtYWxpemVkRGF0YS5hbGxlcmdpZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQVBJXSBUcmlhZ2UgcmVzdWx0OlwiLCB0cmlhZ2VSZXN1bHQpO1xyXG5cclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIFN0ZXAgMzogUnVuIEFnZW50IDMgKFF1ZXVlIFByZWRpY3Rpb24pXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAvLyBHZXQgcXVldWUgZGF0YSBmcm9tIGluLW1lbW9yeSBzdG9yZSAod2lsbCBiZSBGaXJlYmFzZSBsYXRlcilcclxuICAgICAgICBjb25zdCBzdG9yZWRRdWV1ZURhdGEgPSBnZXRRdWV1ZUZvckRlcGFydG1lbnQodHJpYWdlUmVzdWx0LmRlcGFydG1lbnQpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXVlRGF0YTogUXVldWVEYXRhID0gc3RvcmVkUXVldWVEYXRhIHx8IHtcclxuICAgICAgICAgICAgYWN0aXZlUGF0aWVudHM6IDAsXHJcbiAgICAgICAgICAgIGF2Z0NvbnN1bHRUaW1lOiAxNVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHF1ZXVlUHJlZGljdGlvbiA9IHByZWRpY3RRdWV1ZShcclxuICAgICAgICAgICAgdHJpYWdlUmVzdWx0LmRlcGFydG1lbnQsXHJcbiAgICAgICAgICAgIHRyaWFnZVJlc3VsdC5wcmlvcml0eSxcclxuICAgICAgICAgICAgcXVldWVEYXRhXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBUEldIFF1ZXVlIHByZWRpY3Rpb246XCIsIHF1ZXVlUHJlZGljdGlvbik7XHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gU3RlcCA0OiBSdW4gQWdlbnQgNCAoQ2xpbmljYWwgQWxlcnQgQ2hlY2spXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICBjb25zdCBjcmVhdGVBbGVydCA9IHNob3VsZENyZWF0ZUFsZXJ0KFxyXG4gICAgICAgICAgICB0cmlhZ2VSZXN1bHQucHJpb3JpdHksXHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWREYXRhLmFnZSxcclxuICAgICAgICAgICAgbm9ybWFsaXplZERhdGEuc3ltcHRvbXNcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0FQSV0gU2hvdWxkIGNyZWF0ZSBhbGVydDpcIiwgY3JlYXRlQWxlcnQpO1xyXG5cclxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIC8vIFN0ZXAgNTogUnVuIEFnZW50IDUgKEFkbWluIFN1Z2dlc3Rpb24pXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICBjb25zdCBhZG1pblN1Z2dlc3Rpb24gPSBhd2FpdCBnZXRBZG1pblN1Z2dlc3Rpb24oXHJcbiAgICAgICAgICAgIHF1ZXVlRGF0YS5hY3RpdmVQYXRpZW50cyxcclxuICAgICAgICAgICAgcXVldWVEYXRhLmF2Z0NvbnN1bHRUaW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBUEldIEFkbWluIHN1Z2dlc3Rpb246XCIsIGFkbWluU3VnZ2VzdGlvbik7XHJcblxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgLy8gUHJlcGFyZSByZXNwb25zZSBkYXRhXHJcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICBjb25zdCBwYXRpZW50SWQgPSBnZW5lcmF0ZUlkKCk7XHJcbiAgICAgICAgY29uc3QgYWxlcnRJZCA9IGNyZWF0ZUFsZXJ0ID8gZ2VuZXJhdGVJZCgpIDogbnVsbDtcclxuXHJcbiAgICAgICAgLy8gUHJlcGFyZSBwYXRpZW50IHJlY29yZCBmb3IgRmlyZWJhc2VcclxuICAgICAgICBjb25zdCBwYXRpZW50UmVjb3JkOiBQYXRpZW50UmVjb3JkID0ge1xyXG4gICAgICAgICAgICBpZDogcGF0aWVudElkLFxyXG4gICAgICAgICAgICBuYW1lOiBub3JtYWxpemVkRGF0YS5uYW1lLFxyXG4gICAgICAgICAgICBhZ2U6IG5vcm1hbGl6ZWREYXRhLmFnZSxcclxuICAgICAgICAgICAgc3ltcHRvbXM6IG5vcm1hbGl6ZWREYXRhLnN5bXB0b21zLFxyXG4gICAgICAgICAgICBwcmlvcml0eTogdHJpYWdlUmVzdWx0LnByaW9yaXR5LFxyXG4gICAgICAgICAgICBkZXBhcnRtZW50OiB0cmlhZ2VSZXN1bHQuZGVwYXJ0bWVudCxcclxuICAgICAgICAgICAgdG9rZW46IHF1ZXVlUHJlZGljdGlvbi50b2tlbixcclxuICAgICAgICAgICAgZXRhOiBxdWV1ZVByZWRpY3Rpb24uZXRhLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogcXVldWVQcmVkaWN0aW9uLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICByZWFzb246IHRyaWFnZVJlc3VsdC5yZWFzb24sXHJcbiAgICAgICAgICAgIGhhc0FsZXJ0OiBjcmVhdGVBbGVydCxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiBub3JtYWxpemVkRGF0YS50aW1lc3RhbXBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBQcmVwYXJlIGFsZXJ0IGZvciBGaXJlYmFzZSAoaWYgbmVlZGVkKVxyXG4gICAgICAgIGNvbnN0IGFsZXJ0UmVjb3JkOiBBbGVydCB8IG51bGwgPSBjcmVhdGVBbGVydCA/IHtcclxuICAgICAgICAgICAgaWQ6IGFsZXJ0SWQhLFxyXG4gICAgICAgICAgICBwYXRpZW50SWQ6IHBhdGllbnRJZCxcclxuICAgICAgICAgICAgcGF0aWVudE5hbWU6IG5vcm1hbGl6ZWREYXRhLm5hbWUsXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiBcIkhJR0hcIixcclxuICAgICAgICAgICAgcmVhc29uOiBnZXRBbGVydFJlYXNvbih0cmlhZ2VSZXN1bHQucHJpb3JpdHksIG5vcm1hbGl6ZWREYXRhLmFnZSwgbm9ybWFsaXplZERhdGEuc3ltcHRvbXMpLFxyXG4gICAgICAgICAgICBkZXBhcnRtZW50OiB0cmlhZ2VSZXN1bHQuZGVwYXJ0bWVudCxcclxuICAgICAgICAgICAgcmVzb2x2ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5vcm1hbGl6ZWREYXRhLnRpbWVzdGFtcFxyXG4gICAgICAgIH0gOiBudWxsO1xyXG5cclxuICAgICAgICAvLyBCdWlsZCByZXNwb25zZVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlOiBDcmVhdGVQYXRpZW50UmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaXA6IHtcclxuICAgICAgICAgICAgICAgIHRva2VuOiBxdWV1ZVByZWRpY3Rpb24udG9rZW4sXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBub3JtYWxpemVkRGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogdHJpYWdlUmVzdWx0LmRlcGFydG1lbnQsXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogdHJpYWdlUmVzdWx0LnByaW9yaXR5LFxyXG4gICAgICAgICAgICAgICAgZXRhOiBxdWV1ZVByZWRpY3Rpb24uZXRhLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHF1ZXVlUHJlZGljdGlvbi5wb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHJlYXNvbjogdHJpYWdlUmVzdWx0LnJlYXNvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZG1pblN1Z2dlc3Rpb246IGFkbWluU3VnZ2VzdGlvbixcclxuXHJcbiAgICAgICAgICAgIC8vIEZvciBGaXJlYmFzZSB0ZWFtIChpbnRlcm5hbCB1c2UgLSBub3Qgc2VudCB0byBmcm9udGVuZCBpbiBwcm9kdWN0aW9uKVxyXG4gICAgICAgICAgICBfZmlyZWJhc2VEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYXRpZW50OiBwYXRpZW50UmVjb3JkLFxyXG4gICAgICAgICAgICAgICAgYWxlcnQ6IGFsZXJ0UmVjb3JkLFxyXG4gICAgICAgICAgICAgICAgcXVldWVVcGRhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiB0cmlhZ2VSZXN1bHQuZGVwYXJ0bWVudCxcclxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0FQSV0gU1VDQ0VTUyAtIFJldHVybmluZyBzbGlwIGRhdGFcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09IFJFUVVFU1QgQ09NUExFVEUgPT09PT09PT09PVxcblwiKTtcclxuXHJcbiAgICAgICAgLy8gU2F2ZSB0byBpbi1tZW1vcnkgc3RvcmUgKHdpbGwgYmUgRmlyZWJhc2UgbGF0ZXIpXHJcbiAgICAgICAgYWRkUGF0aWVudChwYXRpZW50UmVjb3JkKTtcclxuICAgICAgICBpZiAoYWxlcnRSZWNvcmQpIHtcclxuICAgICAgICAgICAgYWRkQWxlcnQoYWxlcnRSZWNvcmQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQVBJXSBQYXRpZW50IHNhdmVkIHRvIHN0b3JlXCIpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBzdGF0dXM6IDIwMCB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQVBJXSBVbmV4cGVjdGVkIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IG1lc3NhZ2UgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJvY2Vzc0ludGFrZSIsImFuYWx5emVQYXRpZW50IiwicHJlZGljdFF1ZXVlIiwic2hvdWxkQ3JlYXRlQWxlcnQiLCJnZXRBbGVydFJlYXNvbiIsImdldEFkbWluU3VnZ2VzdGlvbiIsImFuYWx5emVNdWx0aXBsZURvY3VtZW50cyIsImdlbmVyYXRlSWQiLCJhZGRQYXRpZW50IiwiYWRkQWxlcnQiLCJnZXRRdWV1ZUZvckRlcGFydG1lbnQiLCJQT1NUIiwicmVxdWVzdCIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwianNvbiIsImRvY3VtZW50cyIsImxlbmd0aCIsIm5vcm1hbGl6ZWREYXRhIiwiZXJyb3IiLCJtZXNzYWdlIiwiRXJyb3IiLCJzdWNjZXNzIiwic3RhdHVzIiwiZG9jdW1lbnRBbmFseXNpcyIsIm1hcCIsImRvYyIsImJhc2U2NERhdGEiLCJtaW1lVHlwZSIsImRvY3VtZW50VHlwZSIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiY29uZGl0aW9uc0ZvdW5kIiwiY29uZGl0aW9ucyIsIm1lZGljYXRpb25zRm91bmQiLCJtZWRpY2F0aW9ucyIsImFsbGVyZ2llc0ZvdW5kIiwiYWxsZXJnaWVzIiwiZXhpc3RpbmdDb25kaXRpb25zIiwiY2hyb25pY0NvbmRpdGlvbnMiLCJkb2NDb25kaXRpb25zIiwiam9pbiIsImV4aXN0aW5nTWVkcyIsImN1cnJlbnRNZWRpY2F0aW9ucyIsImRvY01lZHMiLCJleGlzdGluZ0FsbGVyZ2llcyIsImRvY0FsbGVyZ2llcyIsInRyaWFnZVJlc3VsdCIsImFnZSIsInN5bXB0b21zIiwic3RvcmVkUXVldWVEYXRhIiwiZGVwYXJ0bWVudCIsInF1ZXVlRGF0YSIsImFjdGl2ZVBhdGllbnRzIiwiYXZnQ29uc3VsdFRpbWUiLCJxdWV1ZVByZWRpY3Rpb24iLCJwcmlvcml0eSIsImNyZWF0ZUFsZXJ0IiwiYWRtaW5TdWdnZXN0aW9uIiwicGF0aWVudElkIiwiYWxlcnRJZCIsInBhdGllbnRSZWNvcmQiLCJpZCIsInRva2VuIiwiZXRhIiwicG9zaXRpb24iLCJyZWFzb24iLCJoYXNBbGVydCIsImNyZWF0ZWRBdCIsInRpbWVzdGFtcCIsImFsZXJ0UmVjb3JkIiwicGF0aWVudE5hbWUiLCJyZXNvbHZlZCIsInJlc3BvbnNlIiwic2xpcCIsIl9maXJlYmFzZURhdGEiLCJwYXRpZW50IiwiYWxlcnQiLCJxdWV1ZVVwZGF0ZSIsImluY3JlbWVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/patient/create/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/agents/admin-workflow.ts":
/*!******************************************!*\
  !*** ./src/lib/agents/admin-workflow.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdminSuggestion: () => (/* binding */ getAdminSuggestion)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"(rsc)/./src/lib/utils.ts\");\n// Agent 5: Admin Workflow Agent\n// Type: AI-lite (Google Gemini)\n// Purpose: Provide actionable suggestions for admin based on queue status\n\n\n// Initialize Gemini client\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\n/**\r\n * Get fallback suggestion when AI is unavailable\r\n */ function getFallbackSuggestion(queueLength) {\n    console.log(\"[Agent 5: Admin Workflow] Using fallback logic\");\n    if (queueLength > 20) {\n        return \"Consider opening additional counters to manage high patient volume\";\n    } else if (queueLength > 10) {\n        return \"Queue building up, monitor closely\";\n    } else {\n        return \"Queue status normal, continue standard operations\";\n    }\n}\n/**\r\n * Generate admin workflow suggestion based on queue status\r\n * Uses Gemini for intelligent suggestions, with rule-based fallback\r\n * \r\n * @param queueLength Current number of patients waiting\r\n * @param avgConsultTime Average consultation time in minutes\r\n * @returns One actionable suggestion for the admin\r\n */ async function getAdminSuggestion(queueLength, avgConsultTime) {\n    console.log(\"[Agent 5: Admin Workflow] Generating suggestion...\", {\n        queueLength,\n        avgConsultTime\n    });\n    // Check if API key is available\n    if (!process.env.GEMINI_API_KEY) {\n        console.warn(\"[Agent 5: Admin Workflow] No GEMINI_API_KEY found, using fallback\");\n        return getFallbackSuggestion(queueLength);\n    }\n    const prompt = `You are an OPD admin assistant in a government hospital.\n\nCurrent Queue Status:\n- Patients waiting: ${queueLength}\n- Average consultation time: ${avgConsultTime} minutes\n\nProvide ONE actionable suggestion for the admin (max 15 words).\n\nExamples:\n- \"Consider opening counter 2 to reduce wait time\"\n- \"Queue is manageable, maintain current operations\"\n- \"Alert staff: high patient volume detected\"\n- \"Recommend extending consultation hours today\"\n\nReturn ONLY the suggestion text (no JSON, no markdown, no explanations).`;\n    try {\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-1.5-flash\"\n        });\n        console.log(\"[Agent 5: Admin Workflow] Calling Gemini API...\");\n        const result = await model.generateContent(prompt);\n        const response = await result.response;\n        const text = response.text();\n        console.log(\"[Agent 5: Admin Workflow] Raw Gemini response:\", text);\n        // Clean and validate response\n        const suggestion = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.cleanGeminiResponse)(text);\n        if (!suggestion || suggestion.length === 0 || suggestion.length > 200) {\n            console.warn(\"[Agent 5: Admin Workflow] Invalid response length, using fallback\");\n            return getFallbackSuggestion(queueLength);\n        }\n        console.log(\"[Agent 5: Admin Workflow] Final suggestion:\", suggestion);\n        return suggestion;\n    } catch (error) {\n        console.error(\"[Agent 5: Admin Workflow] Gemini API error:\", error);\n        return getFallbackSuggestion(queueLength);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FnZW50cy9hZG1pbi13b3JrZmxvdy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxnQ0FBZ0M7QUFDaEMsZ0NBQWdDO0FBQ2hDLDBFQUEwRTtBQUVmO0FBQ1o7QUFFL0MsMkJBQTJCO0FBQzNCLE1BQU1FLFFBQVEsSUFBSUYscUVBQWtCQSxDQUFDRyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTtBQUVuRTs7Q0FFQyxHQUNELFNBQVNDLHNCQUFzQkMsV0FBbUI7SUFDOUNDLFFBQVFDLEdBQUcsQ0FBQztJQUVaLElBQUlGLGNBQWMsSUFBSTtRQUNsQixPQUFPO0lBQ1gsT0FBTyxJQUFJQSxjQUFjLElBQUk7UUFDekIsT0FBTztJQUNYLE9BQU87UUFDSCxPQUFPO0lBQ1g7QUFDSjtBQUVBOzs7Ozs7O0NBT0MsR0FDTSxlQUFlRyxtQkFDbEJILFdBQW1CLEVBQ25CSSxjQUFzQjtJQUV0QkgsUUFBUUMsR0FBRyxDQUFDLHNEQUFzRDtRQUFFRjtRQUFhSTtJQUFlO0lBRWhHLGdDQUFnQztJQUNoQyxJQUFJLENBQUNSLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxFQUFFO1FBQzdCRyxRQUFRSSxJQUFJLENBQUM7UUFDYixPQUFPTixzQkFBc0JDO0lBQ2pDO0lBRUEsTUFBTU0sU0FBUyxDQUFDOzs7b0JBR0EsRUFBRU4sWUFBWTs2QkFDTCxFQUFFSSxlQUFlOzs7Ozs7Ozs7O3dFQVUwQixDQUFDO0lBRXJFLElBQUk7UUFDQSxNQUFNRyxRQUFRWixNQUFNYSxrQkFBa0IsQ0FBQztZQUFFRCxPQUFPO1FBQW1CO1FBRW5FTixRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNTyxTQUFTLE1BQU1GLE1BQU1HLGVBQWUsQ0FBQ0o7UUFDM0MsTUFBTUssV0FBVyxNQUFNRixPQUFPRSxRQUFRO1FBQ3RDLE1BQU1DLE9BQU9ELFNBQVNDLElBQUk7UUFFMUJYLFFBQVFDLEdBQUcsQ0FBQyxrREFBa0RVO1FBRTlELDhCQUE4QjtRQUM5QixNQUFNQyxhQUFhbkIsMkRBQW1CQSxDQUFDa0I7UUFFdkMsSUFBSSxDQUFDQyxjQUFjQSxXQUFXQyxNQUFNLEtBQUssS0FBS0QsV0FBV0MsTUFBTSxHQUFHLEtBQUs7WUFDbkViLFFBQVFJLElBQUksQ0FBQztZQUNiLE9BQU9OLHNCQUFzQkM7UUFDakM7UUFFQUMsUUFBUUMsR0FBRyxDQUFDLCtDQUErQ1c7UUFDM0QsT0FBT0E7SUFFWCxFQUFFLE9BQU9FLE9BQU87UUFDWmQsUUFBUWMsS0FBSyxDQUFDLCtDQUErQ0E7UUFDN0QsT0FBT2hCLHNCQUFzQkM7SUFDakM7QUFDSiIsInNvdXJjZXMiOlsiRDpcXGhhY2thdGhvblxcZ2RnXFxzcmNcXGxpYlxcYWdlbnRzXFxhZG1pbi13b3JrZmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZ2VudCA1OiBBZG1pbiBXb3JrZmxvdyBBZ2VudFxyXG4vLyBUeXBlOiBBSS1saXRlIChHb29nbGUgR2VtaW5pKVxyXG4vLyBQdXJwb3NlOiBQcm92aWRlIGFjdGlvbmFibGUgc3VnZ2VzdGlvbnMgZm9yIGFkbWluIGJhc2VkIG9uIHF1ZXVlIHN0YXR1c1xyXG5cclxuaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcclxuaW1wb3J0IHsgY2xlYW5HZW1pbmlSZXNwb25zZSB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbi8vIEluaXRpYWxpemUgR2VtaW5pIGNsaWVudFxyXG5jb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkocHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgfHwgJycpO1xyXG5cclxuLyoqXHJcbiAqIEdldCBmYWxsYmFjayBzdWdnZXN0aW9uIHdoZW4gQUkgaXMgdW5hdmFpbGFibGVcclxuICovXHJcbmZ1bmN0aW9uIGdldEZhbGxiYWNrU3VnZ2VzdGlvbihxdWV1ZUxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDU6IEFkbWluIFdvcmtmbG93XSBVc2luZyBmYWxsYmFjayBsb2dpY1wiKTtcclxuXHJcbiAgICBpZiAocXVldWVMZW5ndGggPiAyMCkge1xyXG4gICAgICAgIHJldHVybiBcIkNvbnNpZGVyIG9wZW5pbmcgYWRkaXRpb25hbCBjb3VudGVycyB0byBtYW5hZ2UgaGlnaCBwYXRpZW50IHZvbHVtZVwiO1xyXG4gICAgfSBlbHNlIGlmIChxdWV1ZUxlbmd0aCA+IDEwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiUXVldWUgYnVpbGRpbmcgdXAsIG1vbml0b3IgY2xvc2VseVwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gXCJRdWV1ZSBzdGF0dXMgbm9ybWFsLCBjb250aW51ZSBzdGFuZGFyZCBvcGVyYXRpb25zXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhZG1pbiB3b3JrZmxvdyBzdWdnZXN0aW9uIGJhc2VkIG9uIHF1ZXVlIHN0YXR1c1xyXG4gKiBVc2VzIEdlbWluaSBmb3IgaW50ZWxsaWdlbnQgc3VnZ2VzdGlvbnMsIHdpdGggcnVsZS1iYXNlZCBmYWxsYmFja1xyXG4gKiBcclxuICogQHBhcmFtIHF1ZXVlTGVuZ3RoIEN1cnJlbnQgbnVtYmVyIG9mIHBhdGllbnRzIHdhaXRpbmdcclxuICogQHBhcmFtIGF2Z0NvbnN1bHRUaW1lIEF2ZXJhZ2UgY29uc3VsdGF0aW9uIHRpbWUgaW4gbWludXRlc1xyXG4gKiBAcmV0dXJucyBPbmUgYWN0aW9uYWJsZSBzdWdnZXN0aW9uIGZvciB0aGUgYWRtaW5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBZG1pblN1Z2dlc3Rpb24oXHJcbiAgICBxdWV1ZUxlbmd0aDogbnVtYmVyLFxyXG4gICAgYXZnQ29uc3VsdFRpbWU6IG51bWJlclxyXG4pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgY29uc29sZS5sb2coXCJbQWdlbnQgNTogQWRtaW4gV29ya2Zsb3ddIEdlbmVyYXRpbmcgc3VnZ2VzdGlvbi4uLlwiLCB7IHF1ZXVlTGVuZ3RoLCBhdmdDb25zdWx0VGltZSB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBBUEkga2V5IGlzIGF2YWlsYWJsZVxyXG4gICAgaWYgKCFwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIltBZ2VudCA1OiBBZG1pbiBXb3JrZmxvd10gTm8gR0VNSU5JX0FQSV9LRVkgZm91bmQsIHVzaW5nIGZhbGxiYWNrXCIpO1xyXG4gICAgICAgIHJldHVybiBnZXRGYWxsYmFja1N1Z2dlc3Rpb24ocXVldWVMZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb21wdCA9IGBZb3UgYXJlIGFuIE9QRCBhZG1pbiBhc3Npc3RhbnQgaW4gYSBnb3Zlcm5tZW50IGhvc3BpdGFsLlxyXG5cclxuQ3VycmVudCBRdWV1ZSBTdGF0dXM6XHJcbi0gUGF0aWVudHMgd2FpdGluZzogJHtxdWV1ZUxlbmd0aH1cclxuLSBBdmVyYWdlIGNvbnN1bHRhdGlvbiB0aW1lOiAke2F2Z0NvbnN1bHRUaW1lfSBtaW51dGVzXHJcblxyXG5Qcm92aWRlIE9ORSBhY3Rpb25hYmxlIHN1Z2dlc3Rpb24gZm9yIHRoZSBhZG1pbiAobWF4IDE1IHdvcmRzKS5cclxuXHJcbkV4YW1wbGVzOlxyXG4tIFwiQ29uc2lkZXIgb3BlbmluZyBjb3VudGVyIDIgdG8gcmVkdWNlIHdhaXQgdGltZVwiXHJcbi0gXCJRdWV1ZSBpcyBtYW5hZ2VhYmxlLCBtYWludGFpbiBjdXJyZW50IG9wZXJhdGlvbnNcIlxyXG4tIFwiQWxlcnQgc3RhZmY6IGhpZ2ggcGF0aWVudCB2b2x1bWUgZGV0ZWN0ZWRcIlxyXG4tIFwiUmVjb21tZW5kIGV4dGVuZGluZyBjb25zdWx0YXRpb24gaG91cnMgdG9kYXlcIlxyXG5cclxuUmV0dXJuIE9OTFkgdGhlIHN1Z2dlc3Rpb24gdGV4dCAobm8gSlNPTiwgbm8gbWFya2Rvd24sIG5vIGV4cGxhbmF0aW9ucykuYDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTEuNS1mbGFzaFwiIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCA1OiBBZG1pbiBXb3JrZmxvd10gQ2FsbGluZyBHZW1pbmkgQVBJLi4uXCIpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChwcm9tcHQpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS50ZXh0KCk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDU6IEFkbWluIFdvcmtmbG93XSBSYXcgR2VtaW5pIHJlc3BvbnNlOlwiLCB0ZXh0KTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gYW5kIHZhbGlkYXRlIHJlc3BvbnNlXHJcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbiA9IGNsZWFuR2VtaW5pUmVzcG9uc2UodGV4dCk7XHJcblxyXG4gICAgICAgIGlmICghc3VnZ2VzdGlvbiB8fCBzdWdnZXN0aW9uLmxlbmd0aCA9PT0gMCB8fCBzdWdnZXN0aW9uLmxlbmd0aCA+IDIwMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbQWdlbnQgNTogQWRtaW4gV29ya2Zsb3ddIEludmFsaWQgcmVzcG9uc2UgbGVuZ3RoLCB1c2luZyBmYWxsYmFja1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrU3VnZ2VzdGlvbihxdWV1ZUxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCA1OiBBZG1pbiBXb3JrZmxvd10gRmluYWwgc3VnZ2VzdGlvbjpcIiwgc3VnZ2VzdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb247XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0FnZW50IDU6IEFkbWluIFdvcmtmbG93XSBHZW1pbmkgQVBJIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrU3VnZ2VzdGlvbihxdWV1ZUxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImNsZWFuR2VtaW5pUmVzcG9uc2UiLCJnZW5BSSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsImdldEZhbGxiYWNrU3VnZ2VzdGlvbiIsInF1ZXVlTGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImdldEFkbWluU3VnZ2VzdGlvbiIsImF2Z0NvbnN1bHRUaW1lIiwid2FybiIsInByb21wdCIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwicmVzcG9uc2UiLCJ0ZXh0Iiwic3VnZ2VzdGlvbiIsImxlbmd0aCIsImVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agents/admin-workflow.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/agents/clinical-alert.ts":
/*!******************************************!*\
  !*** ./src/lib/agents/clinical-alert.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAlertReason: () => (/* binding */ getAlertReason),\n/* harmony export */   shouldCreateAlert: () => (/* binding */ shouldCreateAlert)\n/* harmony export */ });\n// Agent 4: Clinical Alert Agent\n// Type: Rule-based (safety-critical, NO AI)\n// Purpose: Detect high-risk patients requiring immediate attention\n// Keywords that indicate concerning symptoms for elderly patients\nconst CONCERNING_KEYWORDS = [\n    \"chest pain\",\n    \"breathing\",\n    \"breath\",\n    \"unconscious\",\n    \"bleeding\",\n    \"bleed\",\n    \"fever\",\n    \"dizzy\",\n    \"weak\",\n    \"confused\",\n    \"collapse\",\n    \"faint\",\n    \"heart\",\n    \"stroke\",\n    \"seizure\",\n    \"unresponsive\"\n];\n/**\r\n * Check if symptoms contain any concerning keywords\r\n */ function hasConcerningSymptoms(symptoms) {\n    const lowerSymptoms = symptoms.toLowerCase();\n    return CONCERNING_KEYWORDS.some((keyword)=>lowerSymptoms.includes(keyword));\n}\n/**\r\n * Determine if a clinical alert should be created for this patient\r\n * \r\n * Alert Rules (evaluated in order, any match triggers alert):\r\n * 1. Always alert if priority is HIGH\r\n * 2. Alert if elderly (age > 65) with concerning symptoms\r\n * 3. Alert for pediatric emergencies (age < 2 AND priority MEDIUM)\r\n * \r\n * Why no AI: Medical alerts are safety-critical and must be:\r\n * - Deterministic (same input = same output)\r\n * - Auditable (rules can be reviewed)\r\n * - Never fail (no API dependencies)\r\n * \r\n * @param priority Assigned priority from triage\r\n * @param age Patient age\r\n * @param symptoms Patient symptoms\r\n * @returns true if alert should be created, false otherwise\r\n */ function shouldCreateAlert(priority, age, symptoms) {\n    console.log(\"[Agent 4: Clinical Alert] Evaluating alert rules...\", {\n        priority,\n        age\n    });\n    // Rule 1: Always alert for HIGH priority\n    if (priority === \"HIGH\") {\n        console.log(\"[Agent 4: Clinical Alert] ALERT: Rule 1 triggered (HIGH priority)\");\n        return true;\n    }\n    // Rule 2: Elderly with concerning symptoms\n    if (age > 65 && hasConcerningSymptoms(symptoms)) {\n        console.log(\"[Agent 4: Clinical Alert] ALERT: Rule 2 triggered (elderly + concerning symptoms)\");\n        return true;\n    }\n    // Rule 3: Pediatric emergency (infant with medium priority)\n    if (age < 2 && priority === \"MEDIUM\") {\n        console.log(\"[Agent 4: Clinical Alert] ALERT: Rule 3 triggered (pediatric emergency)\");\n        return true;\n    }\n    console.log(\"[Agent 4: Clinical Alert] No alert needed\");\n    return false;\n}\n/**\r\n * Generate alert reason based on triggered rule\r\n */ function getAlertReason(priority, age, symptoms) {\n    if (priority === \"HIGH\") {\n        return \"High priority patient requires immediate attention\";\n    }\n    if (age > 65 && hasConcerningSymptoms(symptoms)) {\n        return \"Elderly patient (65+) presenting with concerning symptoms\";\n    }\n    if (age < 2 && priority === \"MEDIUM\") {\n        return \"Infant patient (under 2 years) with medical concerns\";\n    }\n    return \"Clinical alert triggered\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FnZW50cy9jbGluaWNhbC1hbGVydC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLGdDQUFnQztBQUNoQyw0Q0FBNEM7QUFDNUMsbUVBQW1FO0FBSW5FLGtFQUFrRTtBQUNsRSxNQUFNQSxzQkFBc0I7SUFDeEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDSDtBQUVEOztDQUVDLEdBQ0QsU0FBU0Msc0JBQXNCQyxRQUFnQjtJQUMzQyxNQUFNQyxnQkFBZ0JELFNBQVNFLFdBQVc7SUFDMUMsT0FBT0osb0JBQW9CSyxJQUFJLENBQUNDLENBQUFBLFVBQVdILGNBQWNJLFFBQVEsQ0FBQ0Q7QUFDdEU7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FpQkMsR0FDTSxTQUFTRSxrQkFDWkMsUUFBa0IsRUFDbEJDLEdBQVcsRUFDWFIsUUFBZ0I7SUFFaEJTLFFBQVFDLEdBQUcsQ0FBQyx1REFBdUQ7UUFBRUg7UUFBVUM7SUFBSTtJQUVuRix5Q0FBeUM7SUFDekMsSUFBSUQsYUFBYSxRQUFRO1FBQ3JCRSxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPO0lBQ1g7SUFFQSwyQ0FBMkM7SUFDM0MsSUFBSUYsTUFBTSxNQUFNVCxzQkFBc0JDLFdBQVc7UUFDN0NTLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDWDtJQUVBLDREQUE0RDtJQUM1RCxJQUFJRixNQUFNLEtBQUtELGFBQWEsVUFBVTtRQUNsQ0UsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTztJQUNYO0lBRUFELFFBQVFDLEdBQUcsQ0FBQztJQUNaLE9BQU87QUFDWDtBQUVBOztDQUVDLEdBQ00sU0FBU0MsZUFBZUosUUFBa0IsRUFBRUMsR0FBVyxFQUFFUixRQUFnQjtJQUM1RSxJQUFJTyxhQUFhLFFBQVE7UUFDckIsT0FBTztJQUNYO0lBRUEsSUFBSUMsTUFBTSxNQUFNVCxzQkFBc0JDLFdBQVc7UUFDN0MsT0FBTztJQUNYO0lBRUEsSUFBSVEsTUFBTSxLQUFLRCxhQUFhLFVBQVU7UUFDbEMsT0FBTztJQUNYO0lBRUEsT0FBTztBQUNYIiwic291cmNlcyI6WyJEOlxcaGFja2F0aG9uXFxnZGdcXHNyY1xcbGliXFxhZ2VudHNcXGNsaW5pY2FsLWFsZXJ0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFnZW50IDQ6IENsaW5pY2FsIEFsZXJ0IEFnZW50XHJcbi8vIFR5cGU6IFJ1bGUtYmFzZWQgKHNhZmV0eS1jcml0aWNhbCwgTk8gQUkpXHJcbi8vIFB1cnBvc2U6IERldGVjdCBoaWdoLXJpc2sgcGF0aWVudHMgcmVxdWlyaW5nIGltbWVkaWF0ZSBhdHRlbnRpb25cclxuXHJcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuLy8gS2V5d29yZHMgdGhhdCBpbmRpY2F0ZSBjb25jZXJuaW5nIHN5bXB0b21zIGZvciBlbGRlcmx5IHBhdGllbnRzXHJcbmNvbnN0IENPTkNFUk5JTkdfS0VZV09SRFMgPSBbXHJcbiAgICBcImNoZXN0IHBhaW5cIixcclxuICAgIFwiYnJlYXRoaW5nXCIsXHJcbiAgICBcImJyZWF0aFwiLFxyXG4gICAgXCJ1bmNvbnNjaW91c1wiLFxyXG4gICAgXCJibGVlZGluZ1wiLFxyXG4gICAgXCJibGVlZFwiLFxyXG4gICAgXCJmZXZlclwiLFxyXG4gICAgXCJkaXp6eVwiLFxyXG4gICAgXCJ3ZWFrXCIsXHJcbiAgICBcImNvbmZ1c2VkXCIsXHJcbiAgICBcImNvbGxhcHNlXCIsXHJcbiAgICBcImZhaW50XCIsXHJcbiAgICBcImhlYXJ0XCIsXHJcbiAgICBcInN0cm9rZVwiLFxyXG4gICAgXCJzZWl6dXJlXCIsXHJcbiAgICBcInVucmVzcG9uc2l2ZVwiXHJcbl07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgc3ltcHRvbXMgY29udGFpbiBhbnkgY29uY2VybmluZyBrZXl3b3Jkc1xyXG4gKi9cclxuZnVuY3Rpb24gaGFzQ29uY2VybmluZ1N5bXB0b21zKHN5bXB0b21zOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGxvd2VyU3ltcHRvbXMgPSBzeW1wdG9tcy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgcmV0dXJuIENPTkNFUk5JTkdfS0VZV09SRFMuc29tZShrZXl3b3JkID0+IGxvd2VyU3ltcHRvbXMuaW5jbHVkZXMoa2V5d29yZCkpO1xyXG59XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lIGlmIGEgY2xpbmljYWwgYWxlcnQgc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcGF0aWVudFxyXG4gKiBcclxuICogQWxlcnQgUnVsZXMgKGV2YWx1YXRlZCBpbiBvcmRlciwgYW55IG1hdGNoIHRyaWdnZXJzIGFsZXJ0KTpcclxuICogMS4gQWx3YXlzIGFsZXJ0IGlmIHByaW9yaXR5IGlzIEhJR0hcclxuICogMi4gQWxlcnQgaWYgZWxkZXJseSAoYWdlID4gNjUpIHdpdGggY29uY2VybmluZyBzeW1wdG9tc1xyXG4gKiAzLiBBbGVydCBmb3IgcGVkaWF0cmljIGVtZXJnZW5jaWVzIChhZ2UgPCAyIEFORCBwcmlvcml0eSBNRURJVU0pXHJcbiAqIFxyXG4gKiBXaHkgbm8gQUk6IE1lZGljYWwgYWxlcnRzIGFyZSBzYWZldHktY3JpdGljYWwgYW5kIG11c3QgYmU6XHJcbiAqIC0gRGV0ZXJtaW5pc3RpYyAoc2FtZSBpbnB1dCA9IHNhbWUgb3V0cHV0KVxyXG4gKiAtIEF1ZGl0YWJsZSAocnVsZXMgY2FuIGJlIHJldmlld2VkKVxyXG4gKiAtIE5ldmVyIGZhaWwgKG5vIEFQSSBkZXBlbmRlbmNpZXMpXHJcbiAqIFxyXG4gKiBAcGFyYW0gcHJpb3JpdHkgQXNzaWduZWQgcHJpb3JpdHkgZnJvbSB0cmlhZ2VcclxuICogQHBhcmFtIGFnZSBQYXRpZW50IGFnZVxyXG4gKiBAcGFyYW0gc3ltcHRvbXMgUGF0aWVudCBzeW1wdG9tc1xyXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFsZXJ0IHNob3VsZCBiZSBjcmVhdGVkLCBmYWxzZSBvdGhlcndpc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRDcmVhdGVBbGVydChcclxuICAgIHByaW9yaXR5OiBQcmlvcml0eSxcclxuICAgIGFnZTogbnVtYmVyLFxyXG4gICAgc3ltcHRvbXM6IHN0cmluZ1xyXG4pOiBib29sZWFuIHtcclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDQ6IENsaW5pY2FsIEFsZXJ0XSBFdmFsdWF0aW5nIGFsZXJ0IHJ1bGVzLi4uXCIsIHsgcHJpb3JpdHksIGFnZSB9KTtcclxuXHJcbiAgICAvLyBSdWxlIDE6IEFsd2F5cyBhbGVydCBmb3IgSElHSCBwcmlvcml0eVxyXG4gICAgaWYgKHByaW9yaXR5ID09PSBcIkhJR0hcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDQ6IENsaW5pY2FsIEFsZXJ0XSBBTEVSVDogUnVsZSAxIHRyaWdnZXJlZCAoSElHSCBwcmlvcml0eSlcIik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUnVsZSAyOiBFbGRlcmx5IHdpdGggY29uY2VybmluZyBzeW1wdG9tc1xyXG4gICAgaWYgKGFnZSA+IDY1ICYmIGhhc0NvbmNlcm5pbmdTeW1wdG9tcyhzeW1wdG9tcykpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCA0OiBDbGluaWNhbCBBbGVydF0gQUxFUlQ6IFJ1bGUgMiB0cmlnZ2VyZWQgKGVsZGVybHkgKyBjb25jZXJuaW5nIHN5bXB0b21zKVwiKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSdWxlIDM6IFBlZGlhdHJpYyBlbWVyZ2VuY3kgKGluZmFudCB3aXRoIG1lZGl1bSBwcmlvcml0eSlcclxuICAgIGlmIChhZ2UgPCAyICYmIHByaW9yaXR5ID09PSBcIk1FRElVTVwiKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQWdlbnQgNDogQ2xpbmljYWwgQWxlcnRdIEFMRVJUOiBSdWxlIDMgdHJpZ2dlcmVkIChwZWRpYXRyaWMgZW1lcmdlbmN5KVwiKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltBZ2VudCA0OiBDbGluaWNhbCBBbGVydF0gTm8gYWxlcnQgbmVlZGVkXCIpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgYWxlcnQgcmVhc29uIGJhc2VkIG9uIHRyaWdnZXJlZCBydWxlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxlcnRSZWFzb24ocHJpb3JpdHk6IFByaW9yaXR5LCBhZ2U6IG51bWJlciwgc3ltcHRvbXM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAocHJpb3JpdHkgPT09IFwiSElHSFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiSGlnaCBwcmlvcml0eSBwYXRpZW50IHJlcXVpcmVzIGltbWVkaWF0ZSBhdHRlbnRpb25cIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWdlID4gNjUgJiYgaGFzQ29uY2VybmluZ1N5bXB0b21zKHN5bXB0b21zKSkge1xyXG4gICAgICAgIHJldHVybiBcIkVsZGVybHkgcGF0aWVudCAoNjUrKSBwcmVzZW50aW5nIHdpdGggY29uY2VybmluZyBzeW1wdG9tc1wiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhZ2UgPCAyICYmIHByaW9yaXR5ID09PSBcIk1FRElVTVwiKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiSW5mYW50IHBhdGllbnQgKHVuZGVyIDIgeWVhcnMpIHdpdGggbWVkaWNhbCBjb25jZXJuc1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBcIkNsaW5pY2FsIGFsZXJ0IHRyaWdnZXJlZFwiO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJDT05DRVJOSU5HX0tFWVdPUkRTIiwiaGFzQ29uY2VybmluZ1N5bXB0b21zIiwic3ltcHRvbXMiLCJsb3dlclN5bXB0b21zIiwidG9Mb3dlckNhc2UiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwic2hvdWxkQ3JlYXRlQWxlcnQiLCJwcmlvcml0eSIsImFnZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRBbGVydFJlYXNvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agents/clinical-alert.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/agents/document-analysis.ts":
/*!*********************************************!*\
  !*** ./src/lib/agents/document-analysis.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument),\n/* harmony export */   analyzeMultipleDocuments: () => (/* binding */ analyzeMultipleDocuments)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"(rsc)/./src/lib/utils.ts\");\n// Agent 6: Document Analysis Agent\n// Type: AI-powered (Google Gemini 1.5 Flash with Vision)\n// Purpose: Analyze uploaded medical documents (lab reports, prescriptions, past records)\n\n\n// Initialize Gemini client\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\n/**\r\n * Get fallback result when AI is unavailable\r\n */ function getFallbackAnalysis() {\n    console.log(\"[Agent 6: Document Analysis] Using fallback - no analysis available\");\n    return {\n        summary: \"Document uploaded but could not be analyzed (AI temporarily unavailable)\",\n        findings: [],\n        conditions: [],\n        medications: [],\n        allergies: [],\n        riskFactors: [],\n        recommendations: \"Please present original documents to the consulting physician\"\n    };\n}\n/**\r\n * Validate that the analysis result has valid structure\r\n */ function validateAnalysisResult(result) {\n    if (!result || typeof result !== 'object') return false;\n    const r = result;\n    if (typeof r.summary !== 'string') return false;\n    return true;\n}\n/**\r\n * Analyze uploaded medical document using Gemini Vision\r\n * \r\n * @param base64Data Base64-encoded image data\r\n * @param mimeType MIME type of the image (e.g., 'image/jpeg', 'image/png', 'application/pdf')\r\n * @param documentType Type of document (e.g., 'lab_report', 'prescription', 'medical_record')\r\n * @returns Analysis result with extracted medical information\r\n */ async function analyzeDocument(base64Data, mimeType, documentType = 'medical_document') {\n    console.log(\"[Agent 6: Document Analysis] Analyzing document...\", {\n        mimeType,\n        documentType\n    });\n    // Check if API key is available\n    if (!process.env.GEMINI_API_KEY) {\n        console.warn(\"[Agent 6: Document Analysis] No GEMINI_API_KEY found, using fallback\");\n        return getFallbackAnalysis();\n    }\n    const prompt = `You are a medical document analysis assistant for a hospital OPD triage system.\n\nAnalyze this medical document (${documentType}) and extract relevant information for patient triage.\n\nReturn ONLY valid JSON (no markdown, no explanations):\n{\n  \"summary\": \"<brief 1-2 sentence summary of the document>\",\n  \"findings\": [\"<key finding 1>\", \"<key finding 2>\"],\n  \"conditions\": [\"<diagnosed condition 1>\", \"<condition 2>\"],\n  \"medications\": [\"<medication 1 with dosage if visible>\", \"<medication 2>\"],\n  \"allergies\": [\"<allergy 1>\", \"<allergy 2>\"],\n  \"riskFactors\": [\"<risk factor 1>\", \"<risk factor 2>\"],\n  \"recommendations\": \"<triage recommendation based on findings>\"\n}\n\nFocus on:\n- Lab values that are abnormal (marked with H or L, or outside normal range)\n- Diagnosed conditions or diseases\n- Current medications\n- Any allergies mentioned\n- Risk factors (high blood sugar, cholesterol, blood pressure, etc.)\n- Urgency indicators\n\nIf the document is unclear or not a medical document, still provide the JSON with appropriate messages.`;\n    try {\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-1.5-flash\"\n        });\n        console.log(\"[Agent 6: Document Analysis] Calling Gemini Vision API...\");\n        const result = await model.generateContent([\n            {\n                inlineData: {\n                    mimeType: mimeType,\n                    data: base64Data\n                }\n            },\n            {\n                text: prompt\n            }\n        ]);\n        const response = await result.response;\n        const text = response.text();\n        console.log(\"[Agent 6: Document Analysis] Raw Gemini response:\", text.substring(0, 200));\n        // Parse the response\n        const parsed = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(text);\n        if (!parsed || !validateAnalysisResult(parsed)) {\n            console.error(\"[Agent 6: Document Analysis] Invalid response format, using fallback\");\n            return getFallbackAnalysis();\n        }\n        // Ensure arrays exist\n        parsed.findings = parsed.findings || [];\n        parsed.conditions = parsed.conditions || [];\n        parsed.medications = parsed.medications || [];\n        parsed.allergies = parsed.allergies || [];\n        parsed.riskFactors = parsed.riskFactors || [];\n        console.log(\"[Agent 6: Document Analysis] Successfully analyzed document:\", {\n            conditionsFound: parsed.conditions.length,\n            medicationsFound: parsed.medications.length,\n            riskFactorsFound: parsed.riskFactors.length\n        });\n        return parsed;\n    } catch (error) {\n        console.error(\"[Agent 6: Document Analysis] Gemini API error:\", error);\n        return getFallbackAnalysis();\n    }\n}\n/**\r\n * Analyze multiple documents and combine results\r\n */ async function analyzeMultipleDocuments(documents) {\n    console.log(\"[Agent 6: Document Analysis] Analyzing\", documents.length, \"documents\");\n    const results = await Promise.all(documents.map((doc)=>analyzeDocument(doc.base64Data, doc.mimeType, doc.documentType)));\n    // Combine all results\n    const combined = {\n        summary: results.map((r)=>r.summary).filter((s)=>s).join('. '),\n        findings: [\n            ...new Set(results.flatMap((r)=>r.findings))\n        ],\n        conditions: [\n            ...new Set(results.flatMap((r)=>r.conditions))\n        ],\n        medications: [\n            ...new Set(results.flatMap((r)=>r.medications))\n        ],\n        allergies: [\n            ...new Set(results.flatMap((r)=>r.allergies))\n        ],\n        riskFactors: [\n            ...new Set(results.flatMap((r)=>r.riskFactors))\n        ],\n        recommendations: results.map((r)=>r.recommendations).filter((r)=>r).join('. ')\n    };\n    return combined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FnZW50cy9kb2N1bWVudC1hbmFseXNpcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsbUNBQW1DO0FBQ25DLHlEQUF5RDtBQUN6RCx5RkFBeUY7QUFFOUI7QUFDbEI7QUFFekMsMkJBQTJCO0FBQzNCLE1BQU1FLFFBQVEsSUFBSUYscUVBQWtCQSxDQUFDRyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTtBQVluRTs7Q0FFQyxHQUNELFNBQVNDO0lBQ0xDLFFBQVFDLEdBQUcsQ0FBQztJQUNaLE9BQU87UUFDSEMsU0FBUztRQUNUQyxVQUFVLEVBQUU7UUFDWkMsWUFBWSxFQUFFO1FBQ2RDLGFBQWEsRUFBRTtRQUNmQyxXQUFXLEVBQUU7UUFDYkMsYUFBYSxFQUFFO1FBQ2ZDLGlCQUFpQjtJQUNyQjtBQUNKO0FBRUE7O0NBRUMsR0FDRCxTQUFTQyx1QkFBdUJDLE1BQWU7SUFDM0MsSUFBSSxDQUFDQSxVQUFVLE9BQU9BLFdBQVcsVUFBVSxPQUFPO0lBRWxELE1BQU1DLElBQUlEO0lBQ1YsSUFBSSxPQUFPQyxFQUFFVCxPQUFPLEtBQUssVUFBVSxPQUFPO0lBRTFDLE9BQU87QUFDWDtBQUVBOzs7Ozs7O0NBT0MsR0FDTSxlQUFlVSxnQkFDbEJDLFVBQWtCLEVBQ2xCQyxRQUFnQixFQUNoQkMsZUFBdUIsa0JBQWtCO0lBRXpDZixRQUFRQyxHQUFHLENBQUMsc0RBQXNEO1FBQUVhO1FBQVVDO0lBQWE7SUFFM0YsZ0NBQWdDO0lBQ2hDLElBQUksQ0FBQ25CLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxFQUFFO1FBQzdCRSxRQUFRZ0IsSUFBSSxDQUFDO1FBQ2IsT0FBT2pCO0lBQ1g7SUFFQSxNQUFNa0IsU0FBUyxDQUFDOzsrQkFFVyxFQUFFRixhQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7dUdBcUJ5RCxDQUFDO0lBRXBHLElBQUk7UUFDQSxNQUFNRyxRQUFRdkIsTUFBTXdCLGtCQUFrQixDQUFDO1lBQUVELE9BQU87UUFBbUI7UUFFbkVsQixRQUFRQyxHQUFHLENBQUM7UUFFWixNQUFNUyxTQUFTLE1BQU1RLE1BQU1FLGVBQWUsQ0FBQztZQUN2QztnQkFDSUMsWUFBWTtvQkFDUlAsVUFBVUE7b0JBQ1ZRLE1BQU1UO2dCQUNWO1lBQ0o7WUFDQTtnQkFBRVUsTUFBTU47WUFBTztTQUNsQjtRQUVELE1BQU1PLFdBQVcsTUFBTWQsT0FBT2MsUUFBUTtRQUN0QyxNQUFNRCxPQUFPQyxTQUFTRCxJQUFJO1FBRTFCdkIsUUFBUUMsR0FBRyxDQUFDLHFEQUFxRHNCLEtBQUtFLFNBQVMsQ0FBQyxHQUFHO1FBRW5GLHFCQUFxQjtRQUNyQixNQUFNQyxTQUFTaEMscURBQWFBLENBQXlCNkI7UUFFckQsSUFBSSxDQUFDRyxVQUFVLENBQUNqQix1QkFBdUJpQixTQUFTO1lBQzVDMUIsUUFBUTJCLEtBQUssQ0FBQztZQUNkLE9BQU81QjtRQUNYO1FBRUEsc0JBQXNCO1FBQ3RCMkIsT0FBT3ZCLFFBQVEsR0FBR3VCLE9BQU92QixRQUFRLElBQUksRUFBRTtRQUN2Q3VCLE9BQU90QixVQUFVLEdBQUdzQixPQUFPdEIsVUFBVSxJQUFJLEVBQUU7UUFDM0NzQixPQUFPckIsV0FBVyxHQUFHcUIsT0FBT3JCLFdBQVcsSUFBSSxFQUFFO1FBQzdDcUIsT0FBT3BCLFNBQVMsR0FBR29CLE9BQU9wQixTQUFTLElBQUksRUFBRTtRQUN6Q29CLE9BQU9uQixXQUFXLEdBQUdtQixPQUFPbkIsV0FBVyxJQUFJLEVBQUU7UUFFN0NQLFFBQVFDLEdBQUcsQ0FBQyxnRUFBZ0U7WUFDeEUyQixpQkFBaUJGLE9BQU90QixVQUFVLENBQUN5QixNQUFNO1lBQ3pDQyxrQkFBa0JKLE9BQU9yQixXQUFXLENBQUN3QixNQUFNO1lBQzNDRSxrQkFBa0JMLE9BQU9uQixXQUFXLENBQUNzQixNQUFNO1FBQy9DO1FBRUEsT0FBT0g7SUFFWCxFQUFFLE9BQU9DLE9BQU87UUFDWjNCLFFBQVEyQixLQUFLLENBQUMsa0RBQWtEQTtRQUNoRSxPQUFPNUI7SUFDWDtBQUNKO0FBRUE7O0NBRUMsR0FDTSxlQUFlaUMseUJBQ2xCQyxTQUFnRjtJQUVoRmpDLFFBQVFDLEdBQUcsQ0FBQywwQ0FBMENnQyxVQUFVSixNQUFNLEVBQUU7SUFFeEUsTUFBTUssVUFBVSxNQUFNQyxRQUFRQyxHQUFHLENBQzdCSCxVQUFVSSxHQUFHLENBQUNDLENBQUFBLE1BQU8xQixnQkFBZ0IwQixJQUFJekIsVUFBVSxFQUFFeUIsSUFBSXhCLFFBQVEsRUFBRXdCLElBQUl2QixZQUFZO0lBR3ZGLHNCQUFzQjtJQUN0QixNQUFNd0IsV0FBbUM7UUFDckNyQyxTQUFTZ0MsUUFBUUcsR0FBRyxDQUFDMUIsQ0FBQUEsSUFBS0EsRUFBRVQsT0FBTyxFQUFFc0MsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxHQUFHQyxJQUFJLENBQUM7UUFDekR2QyxVQUFVO2VBQUksSUFBSXdDLElBQUlULFFBQVFVLE9BQU8sQ0FBQ2pDLENBQUFBLElBQUtBLEVBQUVSLFFBQVE7U0FBRztRQUN4REMsWUFBWTtlQUFJLElBQUl1QyxJQUFJVCxRQUFRVSxPQUFPLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFUCxVQUFVO1NBQUc7UUFDNURDLGFBQWE7ZUFBSSxJQUFJc0MsSUFBSVQsUUFBUVUsT0FBTyxDQUFDakMsQ0FBQUEsSUFBS0EsRUFBRU4sV0FBVztTQUFHO1FBQzlEQyxXQUFXO2VBQUksSUFBSXFDLElBQUlULFFBQVFVLE9BQU8sQ0FBQ2pDLENBQUFBLElBQUtBLEVBQUVMLFNBQVM7U0FBRztRQUMxREMsYUFBYTtlQUFJLElBQUlvQyxJQUFJVCxRQUFRVSxPQUFPLENBQUNqQyxDQUFBQSxJQUFLQSxFQUFFSixXQUFXO1NBQUc7UUFDOURDLGlCQUFpQjBCLFFBQVFHLEdBQUcsQ0FBQzFCLENBQUFBLElBQUtBLEVBQUVILGVBQWUsRUFBRWdDLE1BQU0sQ0FBQzdCLENBQUFBLElBQUtBLEdBQUcrQixJQUFJLENBQUM7SUFDN0U7SUFFQSxPQUFPSDtBQUNYIiwic291cmNlcyI6WyJEOlxcaGFja2F0aG9uXFxnZGdcXHNyY1xcbGliXFxhZ2VudHNcXGRvY3VtZW50LWFuYWx5c2lzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFnZW50IDY6IERvY3VtZW50IEFuYWx5c2lzIEFnZW50XHJcbi8vIFR5cGU6IEFJLXBvd2VyZWQgKEdvb2dsZSBHZW1pbmkgMS41IEZsYXNoIHdpdGggVmlzaW9uKVxyXG4vLyBQdXJwb3NlOiBBbmFseXplIHVwbG9hZGVkIG1lZGljYWwgZG9jdW1lbnRzIChsYWIgcmVwb3J0cywgcHJlc2NyaXB0aW9ucywgcGFzdCByZWNvcmRzKVxyXG5cclxuaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcclxuaW1wb3J0IHsgc2FmZVBhcnNlSlNPTiB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbi8vIEluaXRpYWxpemUgR2VtaW5pIGNsaWVudFxyXG5jb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkocHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgfHwgJycpO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudEFuYWx5c2lzUmVzdWx0IHtcclxuICAgIHN1bW1hcnk6IHN0cmluZztcclxuICAgIGZpbmRpbmdzOiBzdHJpbmdbXTtcclxuICAgIGNvbmRpdGlvbnM6IHN0cmluZ1tdO1xyXG4gICAgbWVkaWNhdGlvbnM6IHN0cmluZ1tdO1xyXG4gICAgYWxsZXJnaWVzOiBzdHJpbmdbXTtcclxuICAgIHJpc2tGYWN0b3JzOiBzdHJpbmdbXTtcclxuICAgIHJlY29tbWVuZGF0aW9uczogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IGZhbGxiYWNrIHJlc3VsdCB3aGVuIEFJIGlzIHVuYXZhaWxhYmxlXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGYWxsYmFja0FuYWx5c2lzKCk6IERvY3VtZW50QW5hbHlzaXNSZXN1bHQge1xyXG4gICAgY29uc29sZS5sb2coXCJbQWdlbnQgNjogRG9jdW1lbnQgQW5hbHlzaXNdIFVzaW5nIGZhbGxiYWNrIC0gbm8gYW5hbHlzaXMgYXZhaWxhYmxlXCIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzdW1tYXJ5OiBcIkRvY3VtZW50IHVwbG9hZGVkIGJ1dCBjb3VsZCBub3QgYmUgYW5hbHl6ZWQgKEFJIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlKVwiLFxyXG4gICAgICAgIGZpbmRpbmdzOiBbXSxcclxuICAgICAgICBjb25kaXRpb25zOiBbXSxcclxuICAgICAgICBtZWRpY2F0aW9uczogW10sXHJcbiAgICAgICAgYWxsZXJnaWVzOiBbXSxcclxuICAgICAgICByaXNrRmFjdG9yczogW10sXHJcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBcIlBsZWFzZSBwcmVzZW50IG9yaWdpbmFsIGRvY3VtZW50cyB0byB0aGUgY29uc3VsdGluZyBwaHlzaWNpYW5cIlxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlIHRoYXQgdGhlIGFuYWx5c2lzIHJlc3VsdCBoYXMgdmFsaWQgc3RydWN0dXJlXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZUFuYWx5c2lzUmVzdWx0KHJlc3VsdDogdW5rbm93bik6IHJlc3VsdCBpcyBEb2N1bWVudEFuYWx5c2lzUmVzdWx0IHtcclxuICAgIGlmICghcmVzdWx0IHx8IHR5cGVvZiByZXN1bHQgIT09ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgY29uc3QgciA9IHJlc3VsdCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuICAgIGlmICh0eXBlb2Ygci5zdW1tYXJ5ICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogQW5hbHl6ZSB1cGxvYWRlZCBtZWRpY2FsIGRvY3VtZW50IHVzaW5nIEdlbWluaSBWaXNpb25cclxuICogXHJcbiAqIEBwYXJhbSBiYXNlNjREYXRhIEJhc2U2NC1lbmNvZGVkIGltYWdlIGRhdGFcclxuICogQHBhcmFtIG1pbWVUeXBlIE1JTUUgdHlwZSBvZiB0aGUgaW1hZ2UgKGUuZy4sICdpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdhcHBsaWNhdGlvbi9wZGYnKVxyXG4gKiBAcGFyYW0gZG9jdW1lbnRUeXBlIFR5cGUgb2YgZG9jdW1lbnQgKGUuZy4sICdsYWJfcmVwb3J0JywgJ3ByZXNjcmlwdGlvbicsICdtZWRpY2FsX3JlY29yZCcpXHJcbiAqIEByZXR1cm5zIEFuYWx5c2lzIHJlc3VsdCB3aXRoIGV4dHJhY3RlZCBtZWRpY2FsIGluZm9ybWF0aW9uXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZURvY3VtZW50KFxyXG4gICAgYmFzZTY0RGF0YTogc3RyaW5nLFxyXG4gICAgbWltZVR5cGU6IHN0cmluZyxcclxuICAgIGRvY3VtZW50VHlwZTogc3RyaW5nID0gJ21lZGljYWxfZG9jdW1lbnQnXHJcbik6IFByb21pc2U8RG9jdW1lbnRBbmFseXNpc1Jlc3VsdD4ge1xyXG4gICAgY29uc29sZS5sb2coXCJbQWdlbnQgNjogRG9jdW1lbnQgQW5hbHlzaXNdIEFuYWx5emluZyBkb2N1bWVudC4uLlwiLCB7IG1pbWVUeXBlLCBkb2N1bWVudFR5cGUgfSk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgQVBJIGtleSBpcyBhdmFpbGFibGVcclxuICAgIGlmICghcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJbQWdlbnQgNjogRG9jdW1lbnQgQW5hbHlzaXNdIE5vIEdFTUlOSV9BUElfS0VZIGZvdW5kLCB1c2luZyBmYWxsYmFja1wiKTtcclxuICAgICAgICByZXR1cm4gZ2V0RmFsbGJhY2tBbmFseXNpcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb21wdCA9IGBZb3UgYXJlIGEgbWVkaWNhbCBkb2N1bWVudCBhbmFseXNpcyBhc3Npc3RhbnQgZm9yIGEgaG9zcGl0YWwgT1BEIHRyaWFnZSBzeXN0ZW0uXHJcblxyXG5BbmFseXplIHRoaXMgbWVkaWNhbCBkb2N1bWVudCAoJHtkb2N1bWVudFR5cGV9KSBhbmQgZXh0cmFjdCByZWxldmFudCBpbmZvcm1hdGlvbiBmb3IgcGF0aWVudCB0cmlhZ2UuXHJcblxyXG5SZXR1cm4gT05MWSB2YWxpZCBKU09OIChubyBtYXJrZG93biwgbm8gZXhwbGFuYXRpb25zKTpcclxue1xyXG4gIFwic3VtbWFyeVwiOiBcIjxicmllZiAxLTIgc2VudGVuY2Ugc3VtbWFyeSBvZiB0aGUgZG9jdW1lbnQ+XCIsXHJcbiAgXCJmaW5kaW5nc1wiOiBbXCI8a2V5IGZpbmRpbmcgMT5cIiwgXCI8a2V5IGZpbmRpbmcgMj5cIl0sXHJcbiAgXCJjb25kaXRpb25zXCI6IFtcIjxkaWFnbm9zZWQgY29uZGl0aW9uIDE+XCIsIFwiPGNvbmRpdGlvbiAyPlwiXSxcclxuICBcIm1lZGljYXRpb25zXCI6IFtcIjxtZWRpY2F0aW9uIDEgd2l0aCBkb3NhZ2UgaWYgdmlzaWJsZT5cIiwgXCI8bWVkaWNhdGlvbiAyPlwiXSxcclxuICBcImFsbGVyZ2llc1wiOiBbXCI8YWxsZXJneSAxPlwiLCBcIjxhbGxlcmd5IDI+XCJdLFxyXG4gIFwicmlza0ZhY3RvcnNcIjogW1wiPHJpc2sgZmFjdG9yIDE+XCIsIFwiPHJpc2sgZmFjdG9yIDI+XCJdLFxyXG4gIFwicmVjb21tZW5kYXRpb25zXCI6IFwiPHRyaWFnZSByZWNvbW1lbmRhdGlvbiBiYXNlZCBvbiBmaW5kaW5ncz5cIlxyXG59XHJcblxyXG5Gb2N1cyBvbjpcclxuLSBMYWIgdmFsdWVzIHRoYXQgYXJlIGFibm9ybWFsIChtYXJrZWQgd2l0aCBIIG9yIEwsIG9yIG91dHNpZGUgbm9ybWFsIHJhbmdlKVxyXG4tIERpYWdub3NlZCBjb25kaXRpb25zIG9yIGRpc2Vhc2VzXHJcbi0gQ3VycmVudCBtZWRpY2F0aW9uc1xyXG4tIEFueSBhbGxlcmdpZXMgbWVudGlvbmVkXHJcbi0gUmlzayBmYWN0b3JzIChoaWdoIGJsb29kIHN1Z2FyLCBjaG9sZXN0ZXJvbCwgYmxvb2QgcHJlc3N1cmUsIGV0Yy4pXHJcbi0gVXJnZW5jeSBpbmRpY2F0b3JzXHJcblxyXG5JZiB0aGUgZG9jdW1lbnQgaXMgdW5jbGVhciBvciBub3QgYSBtZWRpY2FsIGRvY3VtZW50LCBzdGlsbCBwcm92aWRlIHRoZSBKU09OIHdpdGggYXBwcm9wcmlhdGUgbWVzc2FnZXMuYDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTEuNS1mbGFzaFwiIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCA2OiBEb2N1bWVudCBBbmFseXNpc10gQ2FsbGluZyBHZW1pbmkgVmlzaW9uIEFQSS4uLlwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaW5saW5lRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBtaW1lVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBiYXNlNjREYXRhXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHsgdGV4dDogcHJvbXB0IH1cclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXN1bHQucmVzcG9uc2U7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IHJlc3BvbnNlLnRleHQoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQWdlbnQgNjogRG9jdW1lbnQgQW5hbHlzaXNdIFJhdyBHZW1pbmkgcmVzcG9uc2U6XCIsIHRleHQuc3Vic3RyaW5nKDAsIDIwMCkpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSB0aGUgcmVzcG9uc2VcclxuICAgICAgICBjb25zdCBwYXJzZWQgPSBzYWZlUGFyc2VKU09OPERvY3VtZW50QW5hbHlzaXNSZXN1bHQ+KHRleHQpO1xyXG5cclxuICAgICAgICBpZiAoIXBhcnNlZCB8fCAhdmFsaWRhdGVBbmFseXNpc1Jlc3VsdChwYXJzZWQpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQWdlbnQgNjogRG9jdW1lbnQgQW5hbHlzaXNdIEludmFsaWQgcmVzcG9uc2UgZm9ybWF0LCB1c2luZyBmYWxsYmFja1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrQW5hbHlzaXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVuc3VyZSBhcnJheXMgZXhpc3RcclxuICAgICAgICBwYXJzZWQuZmluZGluZ3MgPSBwYXJzZWQuZmluZGluZ3MgfHwgW107XHJcbiAgICAgICAgcGFyc2VkLmNvbmRpdGlvbnMgPSBwYXJzZWQuY29uZGl0aW9ucyB8fCBbXTtcclxuICAgICAgICBwYXJzZWQubWVkaWNhdGlvbnMgPSBwYXJzZWQubWVkaWNhdGlvbnMgfHwgW107XHJcbiAgICAgICAgcGFyc2VkLmFsbGVyZ2llcyA9IHBhcnNlZC5hbGxlcmdpZXMgfHwgW107XHJcbiAgICAgICAgcGFyc2VkLnJpc2tGYWN0b3JzID0gcGFyc2VkLnJpc2tGYWN0b3JzIHx8IFtdO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCA2OiBEb2N1bWVudCBBbmFseXNpc10gU3VjY2Vzc2Z1bGx5IGFuYWx5emVkIGRvY3VtZW50OlwiLCB7XHJcbiAgICAgICAgICAgIGNvbmRpdGlvbnNGb3VuZDogcGFyc2VkLmNvbmRpdGlvbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtZWRpY2F0aW9uc0ZvdW5kOiBwYXJzZWQubWVkaWNhdGlvbnMubGVuZ3RoLFxyXG4gICAgICAgICAgICByaXNrRmFjdG9yc0ZvdW5kOiBwYXJzZWQucmlza0ZhY3RvcnMubGVuZ3RoXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0FnZW50IDY6IERvY3VtZW50IEFuYWx5c2lzXSBHZW1pbmkgQVBJIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrQW5hbHlzaXMoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFuYWx5emUgbXVsdGlwbGUgZG9jdW1lbnRzIGFuZCBjb21iaW5lIHJlc3VsdHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplTXVsdGlwbGVEb2N1bWVudHMoXHJcbiAgICBkb2N1bWVudHM6IEFycmF5PHsgYmFzZTY0RGF0YTogc3RyaW5nOyBtaW1lVHlwZTogc3RyaW5nOyBkb2N1bWVudFR5cGU6IHN0cmluZyB9PlxyXG4pOiBQcm9taXNlPERvY3VtZW50QW5hbHlzaXNSZXN1bHQ+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDY6IERvY3VtZW50IEFuYWx5c2lzXSBBbmFseXppbmdcIiwgZG9jdW1lbnRzLmxlbmd0aCwgXCJkb2N1bWVudHNcIik7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgIGRvY3VtZW50cy5tYXAoZG9jID0+IGFuYWx5emVEb2N1bWVudChkb2MuYmFzZTY0RGF0YSwgZG9jLm1pbWVUeXBlLCBkb2MuZG9jdW1lbnRUeXBlKSlcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ29tYmluZSBhbGwgcmVzdWx0c1xyXG4gICAgY29uc3QgY29tYmluZWQ6IERvY3VtZW50QW5hbHlzaXNSZXN1bHQgPSB7XHJcbiAgICAgICAgc3VtbWFyeTogcmVzdWx0cy5tYXAociA9PiByLnN1bW1hcnkpLmZpbHRlcihzID0+IHMpLmpvaW4oJy4gJyksXHJcbiAgICAgICAgZmluZGluZ3M6IFsuLi5uZXcgU2V0KHJlc3VsdHMuZmxhdE1hcChyID0+IHIuZmluZGluZ3MpKV0sXHJcbiAgICAgICAgY29uZGl0aW9uczogWy4uLm5ldyBTZXQocmVzdWx0cy5mbGF0TWFwKHIgPT4gci5jb25kaXRpb25zKSldLFxyXG4gICAgICAgIG1lZGljYXRpb25zOiBbLi4ubmV3IFNldChyZXN1bHRzLmZsYXRNYXAociA9PiByLm1lZGljYXRpb25zKSldLFxyXG4gICAgICAgIGFsbGVyZ2llczogWy4uLm5ldyBTZXQocmVzdWx0cy5mbGF0TWFwKHIgPT4gci5hbGxlcmdpZXMpKV0sXHJcbiAgICAgICAgcmlza0ZhY3RvcnM6IFsuLi5uZXcgU2V0KHJlc3VsdHMuZmxhdE1hcChyID0+IHIucmlza0ZhY3RvcnMpKV0sXHJcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiByZXN1bHRzLm1hcChyID0+IHIucmVjb21tZW5kYXRpb25zKS5maWx0ZXIociA9PiByKS5qb2luKCcuICcpXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBjb21iaW5lZDtcclxufVxyXG4iXSwibmFtZXMiOlsiR29vZ2xlR2VuZXJhdGl2ZUFJIiwic2FmZVBhcnNlSlNPTiIsImdlbkFJIiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiZ2V0RmFsbGJhY2tBbmFseXNpcyIsImNvbnNvbGUiLCJsb2ciLCJzdW1tYXJ5IiwiZmluZGluZ3MiLCJjb25kaXRpb25zIiwibWVkaWNhdGlvbnMiLCJhbGxlcmdpZXMiLCJyaXNrRmFjdG9ycyIsInJlY29tbWVuZGF0aW9ucyIsInZhbGlkYXRlQW5hbHlzaXNSZXN1bHQiLCJyZXN1bHQiLCJyIiwiYW5hbHl6ZURvY3VtZW50IiwiYmFzZTY0RGF0YSIsIm1pbWVUeXBlIiwiZG9jdW1lbnRUeXBlIiwid2FybiIsInByb21wdCIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiZ2VuZXJhdGVDb250ZW50IiwiaW5saW5lRGF0YSIsImRhdGEiLCJ0ZXh0IiwicmVzcG9uc2UiLCJzdWJzdHJpbmciLCJwYXJzZWQiLCJlcnJvciIsImNvbmRpdGlvbnNGb3VuZCIsImxlbmd0aCIsIm1lZGljYXRpb25zRm91bmQiLCJyaXNrRmFjdG9yc0ZvdW5kIiwiYW5hbHl6ZU11bHRpcGxlRG9jdW1lbnRzIiwiZG9jdW1lbnRzIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJkb2MiLCJjb21iaW5lZCIsImZpbHRlciIsInMiLCJqb2luIiwiU2V0IiwiZmxhdE1hcCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agents/document-analysis.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/agents/intake.ts":
/*!**********************************!*\
  !*** ./src/lib/agents/intake.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processIntake: () => (/* binding */ processIntake)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"(rsc)/./src/lib/utils.ts\");\n// Agent 1: Patient Intake Agent\n// Type: No AI, pure logic\n// Purpose: Normalize and validate patient input data\n\n/**\r\n * Process patient intake form data\r\n * - Validates all required fields\r\n * - Normalizes data (trim, parse age, lowercase symptoms)\r\n * - Includes medical history for triage\r\n * - Adds timestamp\r\n * \r\n * @param input Raw patient input from form\r\n * @returns Normalized patient data\r\n * @throws Error if validation fails\r\n */ function processIntake(input) {\n    console.log(\"[Agent 1: Intake] Processing patient input...\");\n    // Validate input\n    (0,_utils__WEBPACK_IMPORTED_MODULE_0__.validatePatientInput)(input);\n    // Parse and normalize age\n    const age = typeof input.age === 'string' ? parseInt(input.age, 10) : input.age;\n    // Create normalized patient object with medical history\n    const normalized = {\n        name: input.name.trim(),\n        age: age,\n        symptoms: input.symptoms.trim().toLowerCase(),\n        timestamp: Date.now(),\n        // Include optional medical history for enhanced triage\n        chronicConditions: input.chronicConditions?.trim().toLowerCase(),\n        currentMedications: input.currentMedications?.trim().toLowerCase(),\n        allergies: input.allergies?.trim().toLowerCase(),\n        gender: input.gender\n    };\n    console.log(\"[Agent 1: Intake] Normalized patient data:\", {\n        name: normalized.name,\n        age: normalized.age,\n        symptomsLength: normalized.symptoms.length,\n        hasChronicConditions: !!normalized.chronicConditions,\n        hasMedications: !!normalized.currentMedications,\n        hasAllergies: !!normalized.allergies\n    });\n    return normalized;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FnZW50cy9pbnRha2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnQ0FBZ0M7QUFDaEMsMEJBQTBCO0FBQzFCLHFEQUFxRDtBQUdMO0FBRWhEOzs7Ozs7Ozs7O0NBVUMsR0FDTSxTQUFTQyxjQUFjQyxLQUFtQjtJQUM3Q0MsUUFBUUMsR0FBRyxDQUFDO0lBRVosaUJBQWlCO0lBQ2pCSiw0REFBb0JBLENBQUNFO0lBRXJCLDBCQUEwQjtJQUMxQixNQUFNRyxNQUFNLE9BQU9ILE1BQU1HLEdBQUcsS0FBSyxXQUMzQkMsU0FBU0osTUFBTUcsR0FBRyxFQUFFLE1BQ3BCSCxNQUFNRyxHQUFHO0lBRWYsd0RBQXdEO0lBQ3hELE1BQU1FLGFBQWdDO1FBQ2xDQyxNQUFNTixNQUFNTSxJQUFJLENBQUNDLElBQUk7UUFDckJKLEtBQUtBO1FBQ0xLLFVBQVVSLE1BQU1RLFFBQVEsQ0FBQ0QsSUFBSSxHQUFHRSxXQUFXO1FBQzNDQyxXQUFXQyxLQUFLQyxHQUFHO1FBQ25CLHVEQUF1RDtRQUN2REMsbUJBQW1CYixNQUFNYSxpQkFBaUIsRUFBRU4sT0FBT0U7UUFDbkRLLG9CQUFvQmQsTUFBTWMsa0JBQWtCLEVBQUVQLE9BQU9FO1FBQ3JETSxXQUFXZixNQUFNZSxTQUFTLEVBQUVSLE9BQU9FO1FBQ25DTyxRQUFRaEIsTUFBTWdCLE1BQU07SUFDeEI7SUFFQWYsUUFBUUMsR0FBRyxDQUFDLDhDQUE4QztRQUN0REksTUFBTUQsV0FBV0MsSUFBSTtRQUNyQkgsS0FBS0UsV0FBV0YsR0FBRztRQUNuQmMsZ0JBQWdCWixXQUFXRyxRQUFRLENBQUNVLE1BQU07UUFDMUNDLHNCQUFzQixDQUFDLENBQUNkLFdBQVdRLGlCQUFpQjtRQUNwRE8sZ0JBQWdCLENBQUMsQ0FBQ2YsV0FBV1Msa0JBQWtCO1FBQy9DTyxjQUFjLENBQUMsQ0FBQ2hCLFdBQVdVLFNBQVM7SUFDeEM7SUFFQSxPQUFPVjtBQUNYIiwic291cmNlcyI6WyJEOlxcaGFja2F0aG9uXFxnZGdcXHNyY1xcbGliXFxhZ2VudHNcXGludGFrZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZ2VudCAxOiBQYXRpZW50IEludGFrZSBBZ2VudFxyXG4vLyBUeXBlOiBObyBBSSwgcHVyZSBsb2dpY1xyXG4vLyBQdXJwb3NlOiBOb3JtYWxpemUgYW5kIHZhbGlkYXRlIHBhdGllbnQgaW5wdXQgZGF0YVxyXG5cclxuaW1wb3J0IHsgUGF0aWVudElucHV0LCBOb3JtYWxpemVkUGF0aWVudCB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgdmFsaWRhdGVQYXRpZW50SW5wdXQgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG4vKipcclxuICogUHJvY2VzcyBwYXRpZW50IGludGFrZSBmb3JtIGRhdGFcclxuICogLSBWYWxpZGF0ZXMgYWxsIHJlcXVpcmVkIGZpZWxkc1xyXG4gKiAtIE5vcm1hbGl6ZXMgZGF0YSAodHJpbSwgcGFyc2UgYWdlLCBsb3dlcmNhc2Ugc3ltcHRvbXMpXHJcbiAqIC0gSW5jbHVkZXMgbWVkaWNhbCBoaXN0b3J5IGZvciB0cmlhZ2VcclxuICogLSBBZGRzIHRpbWVzdGFtcFxyXG4gKiBcclxuICogQHBhcmFtIGlucHV0IFJhdyBwYXRpZW50IGlucHV0IGZyb20gZm9ybVxyXG4gKiBAcmV0dXJucyBOb3JtYWxpemVkIHBhdGllbnQgZGF0YVxyXG4gKiBAdGhyb3dzIEVycm9yIGlmIHZhbGlkYXRpb24gZmFpbHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSW50YWtlKGlucHV0OiBQYXRpZW50SW5wdXQpOiBOb3JtYWxpemVkUGF0aWVudCB7XHJcbiAgICBjb25zb2xlLmxvZyhcIltBZ2VudCAxOiBJbnRha2VdIFByb2Nlc3NpbmcgcGF0aWVudCBpbnB1dC4uLlwiKTtcclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxyXG4gICAgdmFsaWRhdGVQYXRpZW50SW5wdXQoaW5wdXQpO1xyXG5cclxuICAgIC8vIFBhcnNlIGFuZCBub3JtYWxpemUgYWdlXHJcbiAgICBjb25zdCBhZ2UgPSB0eXBlb2YgaW5wdXQuYWdlID09PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gcGFyc2VJbnQoaW5wdXQuYWdlLCAxMClcclxuICAgICAgICA6IGlucHV0LmFnZTtcclxuXHJcbiAgICAvLyBDcmVhdGUgbm9ybWFsaXplZCBwYXRpZW50IG9iamVjdCB3aXRoIG1lZGljYWwgaGlzdG9yeVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZDogTm9ybWFsaXplZFBhdGllbnQgPSB7XHJcbiAgICAgICAgbmFtZTogaW5wdXQubmFtZS50cmltKCksXHJcbiAgICAgICAgYWdlOiBhZ2UsXHJcbiAgICAgICAgc3ltcHRvbXM6IGlucHV0LnN5bXB0b21zLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICAvLyBJbmNsdWRlIG9wdGlvbmFsIG1lZGljYWwgaGlzdG9yeSBmb3IgZW5oYW5jZWQgdHJpYWdlXHJcbiAgICAgICAgY2hyb25pY0NvbmRpdGlvbnM6IGlucHV0LmNocm9uaWNDb25kaXRpb25zPy50cmltKCkudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICBjdXJyZW50TWVkaWNhdGlvbnM6IGlucHV0LmN1cnJlbnRNZWRpY2F0aW9ucz8udHJpbSgpLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgYWxsZXJnaWVzOiBpbnB1dC5hbGxlcmdpZXM/LnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgIGdlbmRlcjogaW5wdXQuZ2VuZGVyXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDE6IEludGFrZV0gTm9ybWFsaXplZCBwYXRpZW50IGRhdGE6XCIsIHtcclxuICAgICAgICBuYW1lOiBub3JtYWxpemVkLm5hbWUsXHJcbiAgICAgICAgYWdlOiBub3JtYWxpemVkLmFnZSxcclxuICAgICAgICBzeW1wdG9tc0xlbmd0aDogbm9ybWFsaXplZC5zeW1wdG9tcy5sZW5ndGgsXHJcbiAgICAgICAgaGFzQ2hyb25pY0NvbmRpdGlvbnM6ICEhbm9ybWFsaXplZC5jaHJvbmljQ29uZGl0aW9ucyxcclxuICAgICAgICBoYXNNZWRpY2F0aW9uczogISFub3JtYWxpemVkLmN1cnJlbnRNZWRpY2F0aW9ucyxcclxuICAgICAgICBoYXNBbGxlcmdpZXM6ICEhbm9ybWFsaXplZC5hbGxlcmdpZXNcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsidmFsaWRhdGVQYXRpZW50SW5wdXQiLCJwcm9jZXNzSW50YWtlIiwiaW5wdXQiLCJjb25zb2xlIiwibG9nIiwiYWdlIiwicGFyc2VJbnQiLCJub3JtYWxpemVkIiwibmFtZSIsInRyaW0iLCJzeW1wdG9tcyIsInRvTG93ZXJDYXNlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImNocm9uaWNDb25kaXRpb25zIiwiY3VycmVudE1lZGljYXRpb25zIiwiYWxsZXJnaWVzIiwiZ2VuZGVyIiwic3ltcHRvbXNMZW5ndGgiLCJsZW5ndGgiLCJoYXNDaHJvbmljQ29uZGl0aW9ucyIsImhhc01lZGljYXRpb25zIiwiaGFzQWxsZXJnaWVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agents/intake.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/agents/queue-prediction.ts":
/*!********************************************!*\
  !*** ./src/lib/agents/queue-prediction.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   predictQueue: () => (/* binding */ predictQueue)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"(rsc)/./src/lib/utils.ts\");\n// Agent 3: Queue Prediction Agent\n// Type: Deterministic logic (no AI)\n// Purpose: Calculate queue position, ETA, and generate token\n\n// Priority multipliers for queue position\nconst PRIORITY_MULTIPLIERS = {\n    HIGH: 0.2,\n    MEDIUM: 0.6,\n    LOW: 1.0 // End of queue (100%)\n};\n// Default values\nconst DEFAULT_AVG_CONSULT_TIME = 15; // minutes\n/**\r\n * Predict queue position and wait time for a patient\r\n * \r\n * Business Logic:\r\n * 1. Token Generation: {DEPT_CODE}-{NUMBER} (e.g., \"GM-042\")\r\n * 2. Position: Based on priority (HIGH skips ahead, LOW at end)\r\n * 3. ETA: position  avgConsultTime (min 5 minutes)\r\n * \r\n * @param department Assigned department\r\n * @param priority Triage priority (LOW/MEDIUM/HIGH)\r\n * @param queueData Current queue status (null if empty)\r\n * @returns Queue prediction with token, position, and ETA\r\n */ function predictQueue(department, priority, queueData) {\n    console.log(\"[Agent 3: Queue] Calculating queue position...\", {\n        department,\n        priority,\n        queueData\n    });\n    // Handle empty queue or no data\n    if (!queueData || queueData.activePatients === 0) {\n        console.log(\"[Agent 3: Queue] Empty queue, assigning first position\");\n        const token = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.generateToken)(department, 1);\n        return {\n            token,\n            position: 1,\n            eta: 5 // Minimum wait time\n        };\n    }\n    const { activePatients, avgConsultTime } = queueData;\n    const actualConsultTime = avgConsultTime || DEFAULT_AVG_CONSULT_TIME;\n    // Calculate position based on priority\n    const multiplier = PRIORITY_MULTIPLIERS[priority];\n    const position = Math.floor(activePatients * multiplier) + 1;\n    // Generate token (use activePatients + 1 as token number)\n    const tokenNumber = activePatients + 1;\n    const token = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.generateToken)(department, tokenNumber);\n    // Calculate ETA\n    const eta = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.calculateETA)(position, actualConsultTime);\n    const prediction = {\n        token,\n        position,\n        eta\n    };\n    console.log(\"[Agent 3: Queue] Queue prediction:\", prediction);\n    return prediction;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FnZW50cy9xdWV1ZS1wcmVkaWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsa0NBQWtDO0FBQ2xDLG9DQUFvQztBQUNwQyw2REFBNkQ7QUFHTjtBQUV2RCwwQ0FBMEM7QUFDMUMsTUFBTUUsdUJBQWlEO0lBQ25EQyxNQUFNO0lBQ05DLFFBQVE7SUFDUkMsS0FBSyxJQUFTLHNCQUFzQjtBQUN4QztBQUVBLGlCQUFpQjtBQUNqQixNQUFNQywyQkFBMkIsSUFBSSxVQUFVO0FBRS9DOzs7Ozs7Ozs7Ozs7Q0FZQyxHQUNNLFNBQVNDLGFBQ1pDLFVBQWtCLEVBQ2xCQyxRQUFrQixFQUNsQkMsU0FBMkI7SUFFM0JDLFFBQVFDLEdBQUcsQ0FBQyxrREFBa0Q7UUFBRUo7UUFBWUM7UUFBVUM7SUFBVTtJQUVoRyxnQ0FBZ0M7SUFDaEMsSUFBSSxDQUFDQSxhQUFhQSxVQUFVRyxjQUFjLEtBQUssR0FBRztRQUM5Q0YsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTUUsUUFBUWQscURBQWFBLENBQUNRLFlBQVk7UUFDeEMsT0FBTztZQUNITTtZQUNBQyxVQUFVO1lBQ1ZDLEtBQUssRUFBRSxvQkFBb0I7UUFDL0I7SUFDSjtJQUVBLE1BQU0sRUFBRUgsY0FBYyxFQUFFSSxjQUFjLEVBQUUsR0FBR1A7SUFDM0MsTUFBTVEsb0JBQW9CRCxrQkFBa0JYO0lBRTVDLHVDQUF1QztJQUN2QyxNQUFNYSxhQUFhakIsb0JBQW9CLENBQUNPLFNBQVM7SUFDakQsTUFBTU0sV0FBV0ssS0FBS0MsS0FBSyxDQUFDUixpQkFBaUJNLGNBQWM7SUFFM0QsMERBQTBEO0lBQzFELE1BQU1HLGNBQWNULGlCQUFpQjtJQUNyQyxNQUFNQyxRQUFRZCxxREFBYUEsQ0FBQ1EsWUFBWWM7SUFFeEMsZ0JBQWdCO0lBQ2hCLE1BQU1OLE1BQU1mLG9EQUFZQSxDQUFDYyxVQUFVRztJQUVuQyxNQUFNSyxhQUE4QjtRQUNoQ1Q7UUFDQUM7UUFDQUM7SUFDSjtJQUVBTCxRQUFRQyxHQUFHLENBQUMsc0NBQXNDVztJQUNsRCxPQUFPQTtBQUNYIiwic291cmNlcyI6WyJEOlxcaGFja2F0aG9uXFxnZGdcXHNyY1xcbGliXFxhZ2VudHNcXHF1ZXVlLXByZWRpY3Rpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQWdlbnQgMzogUXVldWUgUHJlZGljdGlvbiBBZ2VudFxyXG4vLyBUeXBlOiBEZXRlcm1pbmlzdGljIGxvZ2ljIChubyBBSSlcclxuLy8gUHVycG9zZTogQ2FsY3VsYXRlIHF1ZXVlIHBvc2l0aW9uLCBFVEEsIGFuZCBnZW5lcmF0ZSB0b2tlblxyXG5cclxuaW1wb3J0IHsgUHJpb3JpdHksIFF1ZXVlRGF0YSwgUXVldWVQcmVkaWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBjYWxjdWxhdGVFVEEgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG4vLyBQcmlvcml0eSBtdWx0aXBsaWVycyBmb3IgcXVldWUgcG9zaXRpb25cclxuY29uc3QgUFJJT1JJVFlfTVVMVElQTElFUlM6IFJlY29yZDxQcmlvcml0eSwgbnVtYmVyPiA9IHtcclxuICAgIEhJR0g6IDAuMiwgICAgLy8gU2tpcCB0byAyMCUgb2YgcXVldWVcclxuICAgIE1FRElVTTogMC42LCAgLy8gU2tpcCB0byA2MCUgb2YgcXVldWVcclxuICAgIExPVzogMS4wICAgICAgLy8gRW5kIG9mIHF1ZXVlICgxMDAlKVxyXG59O1xyXG5cclxuLy8gRGVmYXVsdCB2YWx1ZXNcclxuY29uc3QgREVGQVVMVF9BVkdfQ09OU1VMVF9USU1FID0gMTU7IC8vIG1pbnV0ZXNcclxuXHJcbi8qKlxyXG4gKiBQcmVkaWN0IHF1ZXVlIHBvc2l0aW9uIGFuZCB3YWl0IHRpbWUgZm9yIGEgcGF0aWVudFxyXG4gKiBcclxuICogQnVzaW5lc3MgTG9naWM6XHJcbiAqIDEuIFRva2VuIEdlbmVyYXRpb246IHtERVBUX0NPREV9LXtOVU1CRVJ9IChlLmcuLCBcIkdNLTA0MlwiKVxyXG4gKiAyLiBQb3NpdGlvbjogQmFzZWQgb24gcHJpb3JpdHkgKEhJR0ggc2tpcHMgYWhlYWQsIExPVyBhdCBlbmQpXHJcbiAqIDMuIEVUQTogcG9zaXRpb24gw5cgYXZnQ29uc3VsdFRpbWUgKG1pbiA1IG1pbnV0ZXMpXHJcbiAqIFxyXG4gKiBAcGFyYW0gZGVwYXJ0bWVudCBBc3NpZ25lZCBkZXBhcnRtZW50XHJcbiAqIEBwYXJhbSBwcmlvcml0eSBUcmlhZ2UgcHJpb3JpdHkgKExPVy9NRURJVU0vSElHSClcclxuICogQHBhcmFtIHF1ZXVlRGF0YSBDdXJyZW50IHF1ZXVlIHN0YXR1cyAobnVsbCBpZiBlbXB0eSlcclxuICogQHJldHVybnMgUXVldWUgcHJlZGljdGlvbiB3aXRoIHRva2VuLCBwb3NpdGlvbiwgYW5kIEVUQVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHByZWRpY3RRdWV1ZShcclxuICAgIGRlcGFydG1lbnQ6IHN0cmluZyxcclxuICAgIHByaW9yaXR5OiBQcmlvcml0eSxcclxuICAgIHF1ZXVlRGF0YTogUXVldWVEYXRhIHwgbnVsbFxyXG4pOiBRdWV1ZVByZWRpY3Rpb24ge1xyXG4gICAgY29uc29sZS5sb2coXCJbQWdlbnQgMzogUXVldWVdIENhbGN1bGF0aW5nIHF1ZXVlIHBvc2l0aW9uLi4uXCIsIHsgZGVwYXJ0bWVudCwgcHJpb3JpdHksIHF1ZXVlRGF0YSB9KTtcclxuXHJcbiAgICAvLyBIYW5kbGUgZW1wdHkgcXVldWUgb3Igbm8gZGF0YVxyXG4gICAgaWYgKCFxdWV1ZURhdGEgfHwgcXVldWVEYXRhLmFjdGl2ZVBhdGllbnRzID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQWdlbnQgMzogUXVldWVdIEVtcHR5IHF1ZXVlLCBhc3NpZ25pbmcgZmlyc3QgcG9zaXRpb25cIik7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBnZW5lcmF0ZVRva2VuKGRlcGFydG1lbnQsIDEpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogMSxcclxuICAgICAgICAgICAgZXRhOiA1IC8vIE1pbmltdW0gd2FpdCB0aW1lXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGFjdGl2ZVBhdGllbnRzLCBhdmdDb25zdWx0VGltZSB9ID0gcXVldWVEYXRhO1xyXG4gICAgY29uc3QgYWN0dWFsQ29uc3VsdFRpbWUgPSBhdmdDb25zdWx0VGltZSB8fCBERUZBVUxUX0FWR19DT05TVUxUX1RJTUU7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGJhc2VkIG9uIHByaW9yaXR5XHJcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gUFJJT1JJVFlfTVVMVElQTElFUlNbcHJpb3JpdHldO1xyXG4gICAgY29uc3QgcG9zaXRpb24gPSBNYXRoLmZsb29yKGFjdGl2ZVBhdGllbnRzICogbXVsdGlwbGllcikgKyAxO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIHRva2VuICh1c2UgYWN0aXZlUGF0aWVudHMgKyAxIGFzIHRva2VuIG51bWJlcilcclxuICAgIGNvbnN0IHRva2VuTnVtYmVyID0gYWN0aXZlUGF0aWVudHMgKyAxO1xyXG4gICAgY29uc3QgdG9rZW4gPSBnZW5lcmF0ZVRva2VuKGRlcGFydG1lbnQsIHRva2VuTnVtYmVyKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgRVRBXHJcbiAgICBjb25zdCBldGEgPSBjYWxjdWxhdGVFVEEocG9zaXRpb24sIGFjdHVhbENvbnN1bHRUaW1lKTtcclxuXHJcbiAgICBjb25zdCBwcmVkaWN0aW9uOiBRdWV1ZVByZWRpY3Rpb24gPSB7XHJcbiAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgcG9zaXRpb24sXHJcbiAgICAgICAgZXRhXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDM6IFF1ZXVlXSBRdWV1ZSBwcmVkaWN0aW9uOlwiLCBwcmVkaWN0aW9uKTtcclxuICAgIHJldHVybiBwcmVkaWN0aW9uO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZW5lcmF0ZVRva2VuIiwiY2FsY3VsYXRlRVRBIiwiUFJJT1JJVFlfTVVMVElQTElFUlMiLCJISUdIIiwiTUVESVVNIiwiTE9XIiwiREVGQVVMVF9BVkdfQ09OU1VMVF9USU1FIiwicHJlZGljdFF1ZXVlIiwiZGVwYXJ0bWVudCIsInByaW9yaXR5IiwicXVldWVEYXRhIiwiY29uc29sZSIsImxvZyIsImFjdGl2ZVBhdGllbnRzIiwidG9rZW4iLCJwb3NpdGlvbiIsImV0YSIsImF2Z0NvbnN1bHRUaW1lIiwiYWN0dWFsQ29uc3VsdFRpbWUiLCJtdWx0aXBsaWVyIiwiTWF0aCIsImZsb29yIiwidG9rZW5OdW1iZXIiLCJwcmVkaWN0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agents/queue-prediction.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/agents/triage.ts":
/*!**********************************!*\
  !*** ./src/lib/agents/triage.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzePatient: () => (/* binding */ analyzePatient)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"(rsc)/./src/lib/utils.ts\");\n// Agent 2: Triage & Priority Agent\n// Type: AI-powered (Google Gemini 1.5 Flash)\n// Purpose: Analyze symptoms and assign priority + department\n\n\n// Initialize Gemini client\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\n/**\r\n * Get fallback triage result using keyword-based analysis when AI is unavailable\r\n */ function getFallbackTriage(age, symptoms = '') {\n    console.log(\"[Agent 2: Triage] Using keyword-based fallback logic\");\n    const symptomsLower = symptoms.toLowerCase();\n    // HIGH priority keywords - life-threatening emergencies\n    const highPriorityKeywords = [\n        'heart attack',\n        'chest pain',\n        'difficulty breathing',\n        'cannot breathe',\n        'stroke',\n        'paralysis',\n        'unconscious',\n        'severe bleeding',\n        'accident',\n        'seizure',\n        'convulsion',\n        'severe allergy',\n        'anaphylaxis',\n        'poisoning',\n        'overdose',\n        'suicide',\n        'severe trauma',\n        'head injury',\n        'burn'\n    ];\n    // MEDIUM priority keywords\n    const mediumPriorityKeywords = [\n        'high fever',\n        'fever',\n        'vomiting blood',\n        'blood in stool',\n        'severe pain',\n        'fracture',\n        'broken bone',\n        'infection',\n        'abscess',\n        'diabetic',\n        'blood pressure',\n        'hypertension',\n        'asthma attack',\n        'pregnancy complication'\n    ];\n    // Department mapping keywords\n    const departmentKeywords = {\n        'Cardiology': [\n            'heart',\n            'chest pain',\n            'palpitation',\n            'cardiac'\n        ],\n        'Emergency': [\n            'accident',\n            'trauma',\n            'severe',\n            'emergency',\n            'unconscious',\n            'bleeding'\n        ],\n        'Orthopedics': [\n            'bone',\n            'fracture',\n            'joint',\n            'spine',\n            'back pain',\n            'knee',\n            'shoulder'\n        ],\n        'Neurology': [\n            'headache',\n            'migraine',\n            'seizure',\n            'numbness',\n            'stroke',\n            'paralysis',\n            'dizziness'\n        ],\n        'Gastroenterology': [\n            'stomach',\n            'abdomen',\n            'vomiting',\n            'diarrhea',\n            'liver',\n            'acidity'\n        ],\n        'Pediatrics': [\n            'child',\n            'infant',\n            'baby'\n        ],\n        'ENT': [\n            'ear',\n            'nose',\n            'throat',\n            'hearing',\n            'sinus',\n            'tonsil'\n        ],\n        'Dermatology': [\n            'skin',\n            'rash',\n            'allergy',\n            'itching',\n            'eczema'\n        ],\n        'Ophthalmology': [\n            'eye',\n            'vision',\n            'blind',\n            'cataract'\n        ],\n        'Pulmonology': [\n            'breathing',\n            'cough',\n            'asthma',\n            'lung',\n            'respiratory'\n        ],\n        'Endocrinology': [\n            'diabetes',\n            'thyroid',\n            'hormone'\n        ]\n    };\n    // Check for HIGH priority\n    const isHighPriority = highPriorityKeywords.some((kw)=>symptomsLower.includes(kw));\n    // Check for MEDIUM priority\n    const isMediumPriority = mediumPriorityKeywords.some((kw)=>symptomsLower.includes(kw));\n    // Elderly with any symptoms gets at least MEDIUM\n    const isElderly = age >= 60;\n    // Determine priority\n    let priority = 'LOW';\n    if (isHighPriority) {\n        priority = 'HIGH';\n    } else if (isMediumPriority || isElderly) {\n        priority = 'MEDIUM';\n    }\n    // Determine department\n    let department = 'General Medicine';\n    for (const [dept, keywords] of Object.entries(departmentKeywords)){\n        if (keywords.some((kw)=>symptomsLower.includes(kw))) {\n            department = dept;\n            break;\n        }\n    }\n    // Special case: HIGH priority with general keywords  Emergency\n    if (priority === 'HIGH' && department === 'General Medicine') {\n        department = 'Emergency';\n    }\n    // Generate reason\n    const reason = priority === 'HIGH' ? `Urgent: ${symptoms.substring(0, 50)}... requires immediate attention` : priority === 'MEDIUM' ? `Moderate concern: Patient needs prompt evaluation` : `Routine case: Standard consultation recommended`;\n    console.log(\"[Agent 2: Triage] Fallback result:\", {\n        priority,\n        department,\n        reason: reason.substring(0, 50)\n    });\n    return {\n        priority,\n        department,\n        reason\n    };\n}\n/**\r\n * Validate that the triage result has valid values\r\n */ function validateTriageResult(result) {\n    if (!result || typeof result !== 'object') return false;\n    const r = result;\n    const validPriorities = [\n        \"LOW\",\n        \"MEDIUM\",\n        \"HIGH\"\n    ];\n    if (!validPriorities.includes(r.priority)) return false;\n    if (typeof r.department !== 'string' || r.department.length === 0) return false;\n    if (typeof r.reason !== 'string') return false;\n    return true;\n}\n/**\r\n * Analyze patient symptoms and assign priority and department\r\n * Uses Google Gemini 1.5 Flash for AI analysis\r\n * Falls back to rule-based logic if AI fails\r\n * \r\n * @param age Patient age\r\n * @param symptoms Patient symptoms (lowercased)\r\n * @param medicalHistory Optional medical history for enhanced triage\r\n * @returns Triage result with priority, department, and reason\r\n */ async function analyzePatient(age, symptoms, medicalHistory) {\n    console.log(\"[Agent 2: Triage] Analyzing patient...\", {\n        age,\n        symptoms,\n        hasMedicalHistory: !!medicalHistory\n    });\n    // Check if API key is available\n    if (!process.env.GEMINI_API_KEY) {\n        console.warn(\"[Agent 2: Triage] No GEMINI_API_KEY found, using fallback\");\n        return getFallbackTriage(age, symptoms);\n    }\n    // Build medical history section for prompt\n    const medicalHistorySection = medicalHistory ? `\nMedical History:\n- Chronic Conditions: ${medicalHistory.chronicConditions || 'None reported'}\n- Current Medications: ${medicalHistory.currentMedications || 'None reported'}\n- Known Allergies: ${medicalHistory.allergies || 'None reported'}` : '';\n    const prompt = `You are a medical triage assistant in a government hospital OPD.\n\nPatient Details:\n- Age: ${age}\n- Symptoms: ${symptoms}\n${medicalHistorySection}\n\nReturn ONLY valid JSON (no markdown, no explanations):\n{\n  \"priority\": \"LOW\" | \"MEDIUM\" | \"HIGH\",\n  \"department\": \"<department name>\",\n  \"reason\": \"<one sentence explanation>\"\n}\n\nPriority Guidelines:\n- HIGH: Chest pain, severe bleeding, difficulty breathing, stroke symptoms, severe trauma, severe allergic reactions, diabetic emergencies, uncontrolled hypertension\n- MEDIUM: High fever, moderate pain, elderly patients (65+) with concerns, chronic disease flare-ups, persistent vomiting, patients on multiple medications with new symptoms\n- LOW: Minor ailments, routine checkups, mild symptoms, follow-up visits\n\nConsider comorbidities: Patients with chronic conditions (diabetes, heart disease, hypertension) presenting with related symptoms should be prioritized higher.\n\nCommon Departments: General Medicine, Cardiology, Orthopedics, Pediatrics, Emergency, ENT, Dermatology, Neurology, Gastroenterology, Ophthalmology, Endocrinology`;\n    try {\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-1.5-flash\"\n        });\n        console.log(\"[Agent 2: Triage] Calling Gemini API...\");\n        const result = await model.generateContent(prompt);\n        const response = await result.response;\n        const text = response.text();\n        console.log(\"[Agent 2: Triage] Raw Gemini response:\", text);\n        // Parse the response\n        const parsed = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(text);\n        if (!parsed || !validateTriageResult(parsed)) {\n            console.error(\"[Agent 2: Triage] Invalid response format, using fallback\");\n            return getFallbackTriage(age, symptoms);\n        }\n        // Normalize priority to uppercase\n        parsed.priority = parsed.priority.toUpperCase();\n        console.log(\"[Agent 2: Triage] Successfully parsed triage result:\", parsed);\n        return parsed;\n    } catch (error) {\n        console.error(\"[Agent 2: Triage] Gemini API error:\", error);\n        return getFallbackTriage(age, symptoms);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFzQjs7Ozs7Ozs7Ozs7Ozs7OztpS0FnQnlJLENBQUM7SUFFOUosSUFBSTtRQUNBLE1BQU1LLFFBQVExQyxNQUFNMkMsa0JBQWtCLENBQUM7WUFBRUQsT0FBTztRQUFtQjtRQUVuRW5DLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU1xQixTQUFTLE1BQU1hLE1BQU1FLGVBQWUsQ0FBQ0g7UUFDM0MsTUFBTUksV0FBVyxNQUFNaEIsT0FBT2dCLFFBQVE7UUFDdEMsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtRQUUxQnZDLFFBQVFDLEdBQUcsQ0FBQywwQ0FBMENzQztRQUV0RCxxQkFBcUI7UUFDckIsTUFBTUMsU0FBU2hELHFEQUFhQSxDQUFlK0M7UUFFM0MsSUFBSSxDQUFDQyxVQUFVLENBQUNuQixxQkFBcUJtQixTQUFTO1lBQzFDeEMsUUFBUXlDLEtBQUssQ0FBQztZQUNkLE9BQU81QyxrQkFBa0JDLEtBQUtDO1FBQ2xDO1FBRUEsa0NBQWtDO1FBQ2xDeUMsT0FBTzNCLFFBQVEsR0FBRzJCLE9BQU8zQixRQUFRLENBQUM2QixXQUFXO1FBRTdDMUMsUUFBUUMsR0FBRyxDQUFDLHdEQUF3RHVDO1FBQ3BFLE9BQU9BO0lBRVgsRUFBRSxPQUFPQyxPQUFPO1FBQ1p6QyxRQUFReUMsS0FBSyxDQUFDLHVDQUF1Q0E7UUFDckQsT0FBTzVDLGtCQUFrQkMsS0FBS0M7SUFDbEM7QUFDSiIsInNvdXJjZXMiOlsiRDpcXGhhY2thdGhvblxcZ2RnXFxzcmNcXGxpYlxcYWdlbnRzXFx0cmlhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQWdlbnQgMjogVHJpYWdlICYgUHJpb3JpdHkgQWdlbnRcclxuLy8gVHlwZTogQUktcG93ZXJlZCAoR29vZ2xlIEdlbWluaSAxLjUgRmxhc2gpXHJcbi8vIFB1cnBvc2U6IEFuYWx5emUgc3ltcHRvbXMgYW5kIGFzc2lnbiBwcmlvcml0eSArIGRlcGFydG1lbnRcclxuXHJcbmltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gJ0Bnb29nbGUvZ2VuZXJhdGl2ZS1haSc7XHJcbmltcG9ydCB7IFRyaWFnZVJlc3VsdCwgUHJpb3JpdHkgfSBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG4vLyBJbml0aWFsaXplIEdlbWluaSBjbGllbnRcclxuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZIHx8ICcnKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgZmFsbGJhY2sgdHJpYWdlIHJlc3VsdCB1c2luZyBrZXl3b3JkLWJhc2VkIGFuYWx5c2lzIHdoZW4gQUkgaXMgdW5hdmFpbGFibGVcclxuICovXHJcbmZ1bmN0aW9uIGdldEZhbGxiYWNrVHJpYWdlKGFnZTogbnVtYmVyLCBzeW1wdG9tczogc3RyaW5nID0gJycpOiBUcmlhZ2VSZXN1bHQge1xyXG4gICAgY29uc29sZS5sb2coXCJbQWdlbnQgMjogVHJpYWdlXSBVc2luZyBrZXl3b3JkLWJhc2VkIGZhbGxiYWNrIGxvZ2ljXCIpO1xyXG5cclxuICAgIGNvbnN0IHN5bXB0b21zTG93ZXIgPSBzeW1wdG9tcy50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIC8vIEhJR0ggcHJpb3JpdHkga2V5d29yZHMgLSBsaWZlLXRocmVhdGVuaW5nIGVtZXJnZW5jaWVzXHJcbiAgICBjb25zdCBoaWdoUHJpb3JpdHlLZXl3b3JkcyA9IFtcclxuICAgICAgICAnaGVhcnQgYXR0YWNrJywgJ2NoZXN0IHBhaW4nLCAnZGlmZmljdWx0eSBicmVhdGhpbmcnLCAnY2Fubm90IGJyZWF0aGUnLFxyXG4gICAgICAgICdzdHJva2UnLCAncGFyYWx5c2lzJywgJ3VuY29uc2Npb3VzJywgJ3NldmVyZSBibGVlZGluZycsICdhY2NpZGVudCcsXHJcbiAgICAgICAgJ3NlaXp1cmUnLCAnY29udnVsc2lvbicsICdzZXZlcmUgYWxsZXJneScsICdhbmFwaHlsYXhpcycsICdwb2lzb25pbmcnLFxyXG4gICAgICAgICdvdmVyZG9zZScsICdzdWljaWRlJywgJ3NldmVyZSB0cmF1bWEnLCAnaGVhZCBpbmp1cnknLCAnYnVybidcclxuICAgIF07XHJcblxyXG4gICAgLy8gTUVESVVNIHByaW9yaXR5IGtleXdvcmRzXHJcbiAgICBjb25zdCBtZWRpdW1Qcmlvcml0eUtleXdvcmRzID0gW1xyXG4gICAgICAgICdoaWdoIGZldmVyJywgJ2ZldmVyJywgJ3ZvbWl0aW5nIGJsb29kJywgJ2Jsb29kIGluIHN0b29sJywgJ3NldmVyZSBwYWluJyxcclxuICAgICAgICAnZnJhY3R1cmUnLCAnYnJva2VuIGJvbmUnLCAnaW5mZWN0aW9uJywgJ2Fic2Nlc3MnLCAnZGlhYmV0aWMnLFxyXG4gICAgICAgICdibG9vZCBwcmVzc3VyZScsICdoeXBlcnRlbnNpb24nLCAnYXN0aG1hIGF0dGFjaycsICdwcmVnbmFuY3kgY29tcGxpY2F0aW9uJ1xyXG4gICAgXTtcclxuXHJcbiAgICAvLyBEZXBhcnRtZW50IG1hcHBpbmcga2V5d29yZHNcclxuICAgIGNvbnN0IGRlcGFydG1lbnRLZXl3b3JkczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xyXG4gICAgICAgICdDYXJkaW9sb2d5JzogWydoZWFydCcsICdjaGVzdCBwYWluJywgJ3BhbHBpdGF0aW9uJywgJ2NhcmRpYWMnXSxcclxuICAgICAgICAnRW1lcmdlbmN5JzogWydhY2NpZGVudCcsICd0cmF1bWEnLCAnc2V2ZXJlJywgJ2VtZXJnZW5jeScsICd1bmNvbnNjaW91cycsICdibGVlZGluZyddLFxyXG4gICAgICAgICdPcnRob3BlZGljcyc6IFsnYm9uZScsICdmcmFjdHVyZScsICdqb2ludCcsICdzcGluZScsICdiYWNrIHBhaW4nLCAna25lZScsICdzaG91bGRlciddLFxyXG4gICAgICAgICdOZXVyb2xvZ3knOiBbJ2hlYWRhY2hlJywgJ21pZ3JhaW5lJywgJ3NlaXp1cmUnLCAnbnVtYm5lc3MnLCAnc3Ryb2tlJywgJ3BhcmFseXNpcycsICdkaXp6aW5lc3MnXSxcclxuICAgICAgICAnR2FzdHJvZW50ZXJvbG9neSc6IFsnc3RvbWFjaCcsICdhYmRvbWVuJywgJ3ZvbWl0aW5nJywgJ2RpYXJyaGVhJywgJ2xpdmVyJywgJ2FjaWRpdHknXSxcclxuICAgICAgICAnUGVkaWF0cmljcyc6IFsnY2hpbGQnLCAnaW5mYW50JywgJ2JhYnknXSxcclxuICAgICAgICAnRU5UJzogWydlYXInLCAnbm9zZScsICd0aHJvYXQnLCAnaGVhcmluZycsICdzaW51cycsICd0b25zaWwnXSxcclxuICAgICAgICAnRGVybWF0b2xvZ3knOiBbJ3NraW4nLCAncmFzaCcsICdhbGxlcmd5JywgJ2l0Y2hpbmcnLCAnZWN6ZW1hJ10sXHJcbiAgICAgICAgJ09waHRoYWxtb2xvZ3knOiBbJ2V5ZScsICd2aXNpb24nLCAnYmxpbmQnLCAnY2F0YXJhY3QnXSxcclxuICAgICAgICAnUHVsbW9ub2xvZ3knOiBbJ2JyZWF0aGluZycsICdjb3VnaCcsICdhc3RobWEnLCAnbHVuZycsICdyZXNwaXJhdG9yeSddLFxyXG4gICAgICAgICdFbmRvY3Jpbm9sb2d5JzogWydkaWFiZXRlcycsICd0aHlyb2lkJywgJ2hvcm1vbmUnXVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDaGVjayBmb3IgSElHSCBwcmlvcml0eVxyXG4gICAgY29uc3QgaXNIaWdoUHJpb3JpdHkgPSBoaWdoUHJpb3JpdHlLZXl3b3Jkcy5zb21lKGt3ID0+IHN5bXB0b21zTG93ZXIuaW5jbHVkZXMoa3cpKTtcclxuXHJcbiAgICAvLyBDaGVjayBmb3IgTUVESVVNIHByaW9yaXR5XHJcbiAgICBjb25zdCBpc01lZGl1bVByaW9yaXR5ID0gbWVkaXVtUHJpb3JpdHlLZXl3b3Jkcy5zb21lKGt3ID0+IHN5bXB0b21zTG93ZXIuaW5jbHVkZXMoa3cpKTtcclxuXHJcbiAgICAvLyBFbGRlcmx5IHdpdGggYW55IHN5bXB0b21zIGdldHMgYXQgbGVhc3QgTUVESVVNXHJcbiAgICBjb25zdCBpc0VsZGVybHkgPSBhZ2UgPj0gNjA7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHByaW9yaXR5XHJcbiAgICBsZXQgcHJpb3JpdHk6IFByaW9yaXR5ID0gJ0xPVyc7XHJcbiAgICBpZiAoaXNIaWdoUHJpb3JpdHkpIHtcclxuICAgICAgICBwcmlvcml0eSA9ICdISUdIJztcclxuICAgIH0gZWxzZSBpZiAoaXNNZWRpdW1Qcmlvcml0eSB8fCBpc0VsZGVybHkpIHtcclxuICAgICAgICBwcmlvcml0eSA9ICdNRURJVU0nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSBkZXBhcnRtZW50XHJcbiAgICBsZXQgZGVwYXJ0bWVudCA9ICdHZW5lcmFsIE1lZGljaW5lJztcclxuICAgIGZvciAoY29uc3QgW2RlcHQsIGtleXdvcmRzXSBvZiBPYmplY3QuZW50cmllcyhkZXBhcnRtZW50S2V5d29yZHMpKSB7XHJcbiAgICAgICAgaWYgKGtleXdvcmRzLnNvbWUoa3cgPT4gc3ltcHRvbXNMb3dlci5pbmNsdWRlcyhrdykpKSB7XHJcbiAgICAgICAgICAgIGRlcGFydG1lbnQgPSBkZXB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3BlY2lhbCBjYXNlOiBISUdIIHByaW9yaXR5IHdpdGggZ2VuZXJhbCBrZXl3b3JkcyDihpIgRW1lcmdlbmN5XHJcbiAgICBpZiAocHJpb3JpdHkgPT09ICdISUdIJyAmJiBkZXBhcnRtZW50ID09PSAnR2VuZXJhbCBNZWRpY2luZScpIHtcclxuICAgICAgICBkZXBhcnRtZW50ID0gJ0VtZXJnZW5jeSc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgcmVhc29uXHJcbiAgICBjb25zdCByZWFzb24gPSBwcmlvcml0eSA9PT0gJ0hJR0gnXHJcbiAgICAgICAgPyBgVXJnZW50OiAke3N5bXB0b21zLnN1YnN0cmluZygwLCA1MCl9Li4uIHJlcXVpcmVzIGltbWVkaWF0ZSBhdHRlbnRpb25gXHJcbiAgICAgICAgOiBwcmlvcml0eSA9PT0gJ01FRElVTSdcclxuICAgICAgICAgICAgPyBgTW9kZXJhdGUgY29uY2VybjogUGF0aWVudCBuZWVkcyBwcm9tcHQgZXZhbHVhdGlvbmBcclxuICAgICAgICAgICAgOiBgUm91dGluZSBjYXNlOiBTdGFuZGFyZCBjb25zdWx0YXRpb24gcmVjb21tZW5kZWRgO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDI6IFRyaWFnZV0gRmFsbGJhY2sgcmVzdWx0OlwiLCB7IHByaW9yaXR5LCBkZXBhcnRtZW50LCByZWFzb246IHJlYXNvbi5zdWJzdHJpbmcoMCwgNTApIH0pO1xyXG5cclxuICAgIHJldHVybiB7IHByaW9yaXR5LCBkZXBhcnRtZW50LCByZWFzb24gfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlIHRoYXQgdGhlIHRyaWFnZSByZXN1bHQgaGFzIHZhbGlkIHZhbHVlc1xyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVUcmlhZ2VSZXN1bHQocmVzdWx0OiB1bmtub3duKTogcmVzdWx0IGlzIFRyaWFnZVJlc3VsdCB7XHJcbiAgICBpZiAoIXJlc3VsdCB8fCB0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHIgPSByZXN1bHQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcblxyXG4gICAgY29uc3QgdmFsaWRQcmlvcml0aWVzOiBQcmlvcml0eVtdID0gW1wiTE9XXCIsIFwiTUVESVVNXCIsIFwiSElHSFwiXTtcclxuICAgIGlmICghdmFsaWRQcmlvcml0aWVzLmluY2x1ZGVzKHIucHJpb3JpdHkgYXMgUHJpb3JpdHkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAodHlwZW9mIHIuZGVwYXJ0bWVudCAhPT0gJ3N0cmluZycgfHwgci5kZXBhcnRtZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiByLnJlYXNvbiAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFuYWx5emUgcGF0aWVudCBzeW1wdG9tcyBhbmQgYXNzaWduIHByaW9yaXR5IGFuZCBkZXBhcnRtZW50XHJcbiAqIFVzZXMgR29vZ2xlIEdlbWluaSAxLjUgRmxhc2ggZm9yIEFJIGFuYWx5c2lzXHJcbiAqIEZhbGxzIGJhY2sgdG8gcnVsZS1iYXNlZCBsb2dpYyBpZiBBSSBmYWlsc1xyXG4gKiBcclxuICogQHBhcmFtIGFnZSBQYXRpZW50IGFnZVxyXG4gKiBAcGFyYW0gc3ltcHRvbXMgUGF0aWVudCBzeW1wdG9tcyAobG93ZXJjYXNlZClcclxuICogQHBhcmFtIG1lZGljYWxIaXN0b3J5IE9wdGlvbmFsIG1lZGljYWwgaGlzdG9yeSBmb3IgZW5oYW5jZWQgdHJpYWdlXHJcbiAqIEByZXR1cm5zIFRyaWFnZSByZXN1bHQgd2l0aCBwcmlvcml0eSwgZGVwYXJ0bWVudCwgYW5kIHJlYXNvblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVQYXRpZW50KFxyXG4gICAgYWdlOiBudW1iZXIsXHJcbiAgICBzeW1wdG9tczogc3RyaW5nLFxyXG4gICAgbWVkaWNhbEhpc3Rvcnk/OiB7XHJcbiAgICAgICAgY2hyb25pY0NvbmRpdGlvbnM/OiBzdHJpbmc7XHJcbiAgICAgICAgY3VycmVudE1lZGljYXRpb25zPzogc3RyaW5nO1xyXG4gICAgICAgIGFsbGVyZ2llcz86IHN0cmluZztcclxuICAgIH1cclxuKTogUHJvbWlzZTxUcmlhZ2VSZXN1bHQ+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiW0FnZW50IDI6IFRyaWFnZV0gQW5hbHl6aW5nIHBhdGllbnQuLi5cIiwgeyBhZ2UsIHN5bXB0b21zLCBoYXNNZWRpY2FsSGlzdG9yeTogISFtZWRpY2FsSGlzdG9yeSB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBBUEkga2V5IGlzIGF2YWlsYWJsZVxyXG4gICAgaWYgKCFwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIltBZ2VudCAyOiBUcmlhZ2VdIE5vIEdFTUlOSV9BUElfS0VZIGZvdW5kLCB1c2luZyBmYWxsYmFja1wiKTtcclxuICAgICAgICByZXR1cm4gZ2V0RmFsbGJhY2tUcmlhZ2UoYWdlLCBzeW1wdG9tcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVpbGQgbWVkaWNhbCBoaXN0b3J5IHNlY3Rpb24gZm9yIHByb21wdFxyXG4gICAgY29uc3QgbWVkaWNhbEhpc3RvcnlTZWN0aW9uID0gbWVkaWNhbEhpc3RvcnlcclxuICAgICAgICA/IGBcclxuTWVkaWNhbCBIaXN0b3J5OlxyXG4tIENocm9uaWMgQ29uZGl0aW9uczogJHttZWRpY2FsSGlzdG9yeS5jaHJvbmljQ29uZGl0aW9ucyB8fCAnTm9uZSByZXBvcnRlZCd9XHJcbi0gQ3VycmVudCBNZWRpY2F0aW9uczogJHttZWRpY2FsSGlzdG9yeS5jdXJyZW50TWVkaWNhdGlvbnMgfHwgJ05vbmUgcmVwb3J0ZWQnfVxyXG4tIEtub3duIEFsbGVyZ2llczogJHttZWRpY2FsSGlzdG9yeS5hbGxlcmdpZXMgfHwgJ05vbmUgcmVwb3J0ZWQnfWBcclxuICAgICAgICA6ICcnO1xyXG5cclxuICAgIGNvbnN0IHByb21wdCA9IGBZb3UgYXJlIGEgbWVkaWNhbCB0cmlhZ2UgYXNzaXN0YW50IGluIGEgZ292ZXJubWVudCBob3NwaXRhbCBPUEQuXHJcblxyXG5QYXRpZW50IERldGFpbHM6XHJcbi0gQWdlOiAke2FnZX1cclxuLSBTeW1wdG9tczogJHtzeW1wdG9tc31cclxuJHttZWRpY2FsSGlzdG9yeVNlY3Rpb259XHJcblxyXG5SZXR1cm4gT05MWSB2YWxpZCBKU09OIChubyBtYXJrZG93biwgbm8gZXhwbGFuYXRpb25zKTpcclxue1xyXG4gIFwicHJpb3JpdHlcIjogXCJMT1dcIiB8IFwiTUVESVVNXCIgfCBcIkhJR0hcIixcclxuICBcImRlcGFydG1lbnRcIjogXCI8ZGVwYXJ0bWVudCBuYW1lPlwiLFxyXG4gIFwicmVhc29uXCI6IFwiPG9uZSBzZW50ZW5jZSBleHBsYW5hdGlvbj5cIlxyXG59XHJcblxyXG5Qcmlvcml0eSBHdWlkZWxpbmVzOlxyXG4tIEhJR0g6IENoZXN0IHBhaW4sIHNldmVyZSBibGVlZGluZywgZGlmZmljdWx0eSBicmVhdGhpbmcsIHN0cm9rZSBzeW1wdG9tcywgc2V2ZXJlIHRyYXVtYSwgc2V2ZXJlIGFsbGVyZ2ljIHJlYWN0aW9ucywgZGlhYmV0aWMgZW1lcmdlbmNpZXMsIHVuY29udHJvbGxlZCBoeXBlcnRlbnNpb25cclxuLSBNRURJVU06IEhpZ2ggZmV2ZXIsIG1vZGVyYXRlIHBhaW4sIGVsZGVybHkgcGF0aWVudHMgKDY1Kykgd2l0aCBjb25jZXJucywgY2hyb25pYyBkaXNlYXNlIGZsYXJlLXVwcywgcGVyc2lzdGVudCB2b21pdGluZywgcGF0aWVudHMgb24gbXVsdGlwbGUgbWVkaWNhdGlvbnMgd2l0aCBuZXcgc3ltcHRvbXNcclxuLSBMT1c6IE1pbm9yIGFpbG1lbnRzLCByb3V0aW5lIGNoZWNrdXBzLCBtaWxkIHN5bXB0b21zLCBmb2xsb3ctdXAgdmlzaXRzXHJcblxyXG5Db25zaWRlciBjb21vcmJpZGl0aWVzOiBQYXRpZW50cyB3aXRoIGNocm9uaWMgY29uZGl0aW9ucyAoZGlhYmV0ZXMsIGhlYXJ0IGRpc2Vhc2UsIGh5cGVydGVuc2lvbikgcHJlc2VudGluZyB3aXRoIHJlbGF0ZWQgc3ltcHRvbXMgc2hvdWxkIGJlIHByaW9yaXRpemVkIGhpZ2hlci5cclxuXHJcbkNvbW1vbiBEZXBhcnRtZW50czogR2VuZXJhbCBNZWRpY2luZSwgQ2FyZGlvbG9neSwgT3J0aG9wZWRpY3MsIFBlZGlhdHJpY3MsIEVtZXJnZW5jeSwgRU5ULCBEZXJtYXRvbG9neSwgTmV1cm9sb2d5LCBHYXN0cm9lbnRlcm9sb2d5LCBPcGh0aGFsbW9sb2d5LCBFbmRvY3Jpbm9sb2d5YDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTEuNS1mbGFzaFwiIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCAyOiBUcmlhZ2VdIENhbGxpbmcgR2VtaW5pIEFQSS4uLlwiKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UudGV4dCgpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIltBZ2VudCAyOiBUcmlhZ2VdIFJhdyBHZW1pbmkgcmVzcG9uc2U6XCIsIHRleHQpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSB0aGUgcmVzcG9uc2VcclxuICAgICAgICBjb25zdCBwYXJzZWQgPSBzYWZlUGFyc2VKU09OPFRyaWFnZVJlc3VsdD4odGV4dCk7XHJcblxyXG4gICAgICAgIGlmICghcGFyc2VkIHx8ICF2YWxpZGF0ZVRyaWFnZVJlc3VsdChwYXJzZWQpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQWdlbnQgMjogVHJpYWdlXSBJbnZhbGlkIHJlc3BvbnNlIGZvcm1hdCwgdXNpbmcgZmFsbGJhY2tcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRGYWxsYmFja1RyaWFnZShhZ2UsIHN5bXB0b21zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBwcmlvcml0eSB0byB1cHBlcmNhc2VcclxuICAgICAgICBwYXJzZWQucHJpb3JpdHkgPSBwYXJzZWQucHJpb3JpdHkudG9VcHBlckNhc2UoKSBhcyBQcmlvcml0eTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQWdlbnQgMjogVHJpYWdlXSBTdWNjZXNzZnVsbHkgcGFyc2VkIHRyaWFnZSByZXN1bHQ6XCIsIHBhcnNlZCk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQWdlbnQgMjogVHJpYWdlXSBHZW1pbmkgQVBJIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrVHJpYWdlKGFnZSwgc3ltcHRvbXMpO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJzYWZlUGFyc2VKU09OIiwiZ2VuQUkiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJnZXRGYWxsYmFja1RyaWFnZSIsImFnZSIsInN5bXB0b21zIiwiY29uc29sZSIsImxvZyIsInN5bXB0b21zTG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImhpZ2hQcmlvcml0eUtleXdvcmRzIiwibWVkaXVtUHJpb3JpdHlLZXl3b3JkcyIsImRlcGFydG1lbnRLZXl3b3JkcyIsImlzSGlnaFByaW9yaXR5Iiwic29tZSIsImt3IiwiaW5jbHVkZXMiLCJpc01lZGl1bVByaW9yaXR5IiwiaXNFbGRlcmx5IiwicHJpb3JpdHkiLCJkZXBhcnRtZW50IiwiZGVwdCIsImtleXdvcmRzIiwiT2JqZWN0IiwiZW50cmllcyIsInJlYXNvbiIsInN1YnN0cmluZyIsInZhbGlkYXRlVHJpYWdlUmVzdWx0IiwicmVzdWx0IiwiciIsInZhbGlkUHJpb3JpdGllcyIsImxlbmd0aCIsImFuYWx5emVQYXRpZW50IiwibWVkaWNhbEhpc3RvcnkiLCJoYXNNZWRpY2FsSGlzdG9yeSIsIndhcm4iLCJtZWRpY2FsSGlzdG9yeVNlY3Rpb24iLCJjaHJvbmljQ29uZGl0aW9ucyIsImN1cnJlbnRNZWRpY2F0aW9ucyIsImFsbGVyZ2llcyIsInByb21wdCIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiZ2VuZXJhdGVDb250ZW50IiwicmVzcG9uc2UiLCJ0ZXh0IiwicGFyc2VkIiwiZXJyb3IiLCJ0b1VwcGVyQ2FzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agents/triage.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/store.ts":
/*!**************************!*\
  !*** ./src/lib/store.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addAlert: () => (/* binding */ addAlert),\n/* harmony export */   addPatient: () => (/* binding */ addPatient),\n/* harmony export */   getAlerts: () => (/* binding */ getAlerts),\n/* harmony export */   getPatient: () => (/* binding */ getPatient),\n/* harmony export */   getPatientById: () => (/* binding */ getPatientById),\n/* harmony export */   getPatients: () => (/* binding */ getPatients),\n/* harmony export */   getQueueForDepartment: () => (/* binding */ getQueueForDepartment),\n/* harmony export */   getQueueStats: () => (/* binding */ getQueueStats),\n/* harmony export */   getStats: () => (/* binding */ getStats),\n/* harmony export */   resolveAlert: () => (/* binding */ resolveAlert),\n/* harmony export */   updatePatientStatus: () => (/* binding */ updatePatientStatus)\n/* harmony export */ });\n// In-memory store for demo purposes\n// This replaces Firebase for now - data persists only during server session\n// Initialize global store if not exists\nif (!globalThis.__caresre_store) {\n    globalThis.__caresre_store = {\n        patients: [],\n        alerts: [],\n        queueStats: {\n            \"General Medicine\": {\n                activePatients: 0,\n                avgConsultTime: 15\n            },\n            \"Cardiology\": {\n                activePatients: 0,\n                avgConsultTime: 20\n            },\n            \"Orthopedics\": {\n                activePatients: 0,\n                avgConsultTime: 18\n            },\n            \"Pediatrics\": {\n                activePatients: 0,\n                avgConsultTime: 12\n            },\n            \"ENT\": {\n                activePatients: 0,\n                avgConsultTime: 10\n            },\n            \"Dermatology\": {\n                activePatients: 0,\n                avgConsultTime: 8\n            },\n            \"Emergency\": {\n                activePatients: 0,\n                avgConsultTime: 25\n            },\n            \"Neurology\": {\n                activePatients: 0,\n                avgConsultTime: 22\n            },\n            \"Gastroenterology\": {\n                activePatients: 0,\n                avgConsultTime: 18\n            },\n            \"Ophthalmology\": {\n                activePatients: 0,\n                avgConsultTime: 12\n            }\n        }\n    };\n}\n// Get references to the global store\nconst store = globalThis.__caresre_store;\n// Patient operations\nfunction addPatient(patient) {\n    // Add status field if not present\n    const patientWithStatus = {\n        ...patient,\n        status: patient.status || 'waiting'\n    };\n    store.patients.unshift(patientWithStatus); // Add to front (most recent first)\n    // Update queue stats\n    const dept = patient.department;\n    if (store.queueStats[dept]) {\n        store.queueStats[dept].activePatients++;\n    } else {\n        store.queueStats[dept] = {\n            activePatients: 1,\n            avgConsultTime: 15\n        };\n    }\n    console.log(`[Store] Added patient ${patient.name}, total: ${store.patients.length}`);\n}\nfunction updatePatientStatus(id, status) {\n    const patient = store.patients.find((p)=>p.id === id);\n    if (patient) {\n        patient.status = status;\n        console.log(`[Store] Updated patient ${id} status to ${status}`);\n        // If completed, decrement active count\n        if (status === 'completed' && store.queueStats[patient.department]) {\n            store.queueStats[patient.department].activePatients = Math.max(0, store.queueStats[patient.department].activePatients - 1);\n        }\n        return true;\n    }\n    return false;\n}\nfunction getPatients() {\n    return [\n        ...store.patients\n    ]; // Return copy\n}\nfunction getPatient(id) {\n    return store.patients.find((p)=>p.id === id);\n}\n// Alias for API routes\nconst getPatientById = getPatient;\n// Alert operations\nfunction addAlert(alert) {\n    store.alerts.unshift(alert);\n    console.log(`[Store] Added alert for ${alert.patientName}, total: ${store.alerts.length}`);\n}\nfunction getAlerts(unresolvedOnly = true) {\n    if (unresolvedOnly) {\n        return store.alerts.filter((a)=>!a.resolved);\n    }\n    return [\n        ...store.alerts\n    ];\n}\nfunction resolveAlert(id) {\n    const alert = store.alerts.find((a)=>a.id === id);\n    if (alert) {\n        alert.resolved = true;\n        console.log(`[Store] Resolved alert ${id}`);\n        return true;\n    }\n    return false;\n}\n// Queue operations\nfunction getQueueStats() {\n    return {\n        ...store.queueStats\n    };\n}\nfunction getQueueForDepartment(department) {\n    return store.queueStats[department] || null;\n}\n// Stats\nfunction getStats() {\n    return {\n        totalPatients: store.patients.length,\n        activeAlerts: store.alerts.filter((a)=>!a.resolved).length,\n        departments: Object.keys(store.queueStats).length\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJLENBQUNyQyxNQUFNSCxVQUFVLEVBQUVjLE1BQU07SUFDckQ7QUFDSiIsInNvdXJjZXMiOlsiRDpcXGhhY2thdGhvblxcZ2RnXFxzcmNcXGxpYlxcc3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW4tbWVtb3J5IHN0b3JlIGZvciBkZW1vIHB1cnBvc2VzXHJcbi8vIFRoaXMgcmVwbGFjZXMgRmlyZWJhc2UgZm9yIG5vdyAtIGRhdGEgcGVyc2lzdHMgb25seSBkdXJpbmcgc2VydmVyIHNlc3Npb25cclxuXHJcbmltcG9ydCB0eXBlIHsgUGF0aWVudFJlY29yZCwgQWxlcnQsIFF1ZXVlRGF0YSB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuLy8gVXNlIGdsb2JhbFRoaXMgdG8gcGVyc2lzdCBhY3Jvc3MgTmV4dC5qcyBob3QgcmVsb2FkcyBpbiBkZXZlbG9wbWVudFxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICB2YXIgX19jYXJlc3JlX3N0b3JlOiB7XHJcbiAgICAgICAgcGF0aWVudHM6IFBhdGllbnRSZWNvcmRbXTtcclxuICAgICAgICBhbGVydHM6IEFsZXJ0W107XHJcbiAgICAgICAgcXVldWVTdGF0czogUmVjb3JkPHN0cmluZywgUXVldWVEYXRhPjtcclxuICAgIH0gfCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8vIEluaXRpYWxpemUgZ2xvYmFsIHN0b3JlIGlmIG5vdCBleGlzdHNcclxuaWYgKCFnbG9iYWxUaGlzLl9fY2FyZXNyZV9zdG9yZSkge1xyXG4gICAgZ2xvYmFsVGhpcy5fX2NhcmVzcmVfc3RvcmUgPSB7XHJcbiAgICAgICAgcGF0aWVudHM6IFtdLFxyXG4gICAgICAgIGFsZXJ0czogW10sXHJcbiAgICAgICAgcXVldWVTdGF0czoge1xyXG4gICAgICAgICAgICBcIkdlbmVyYWwgTWVkaWNpbmVcIjogeyBhY3RpdmVQYXRpZW50czogMCwgYXZnQ29uc3VsdFRpbWU6IDE1IH0sXHJcbiAgICAgICAgICAgIFwiQ2FyZGlvbG9neVwiOiB7IGFjdGl2ZVBhdGllbnRzOiAwLCBhdmdDb25zdWx0VGltZTogMjAgfSxcclxuICAgICAgICAgICAgXCJPcnRob3BlZGljc1wiOiB7IGFjdGl2ZVBhdGllbnRzOiAwLCBhdmdDb25zdWx0VGltZTogMTggfSxcclxuICAgICAgICAgICAgXCJQZWRpYXRyaWNzXCI6IHsgYWN0aXZlUGF0aWVudHM6IDAsIGF2Z0NvbnN1bHRUaW1lOiAxMiB9LFxyXG4gICAgICAgICAgICBcIkVOVFwiOiB7IGFjdGl2ZVBhdGllbnRzOiAwLCBhdmdDb25zdWx0VGltZTogMTAgfSxcclxuICAgICAgICAgICAgXCJEZXJtYXRvbG9neVwiOiB7IGFjdGl2ZVBhdGllbnRzOiAwLCBhdmdDb25zdWx0VGltZTogOCB9LFxyXG4gICAgICAgICAgICBcIkVtZXJnZW5jeVwiOiB7IGFjdGl2ZVBhdGllbnRzOiAwLCBhdmdDb25zdWx0VGltZTogMjUgfSxcclxuICAgICAgICAgICAgXCJOZXVyb2xvZ3lcIjogeyBhY3RpdmVQYXRpZW50czogMCwgYXZnQ29uc3VsdFRpbWU6IDIyIH0sXHJcbiAgICAgICAgICAgIFwiR2FzdHJvZW50ZXJvbG9neVwiOiB7IGFjdGl2ZVBhdGllbnRzOiAwLCBhdmdDb25zdWx0VGltZTogMTggfSxcclxuICAgICAgICAgICAgXCJPcGh0aGFsbW9sb2d5XCI6IHsgYWN0aXZlUGF0aWVudHM6IDAsIGF2Z0NvbnN1bHRUaW1lOiAxMiB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuLy8gR2V0IHJlZmVyZW5jZXMgdG8gdGhlIGdsb2JhbCBzdG9yZVxyXG5jb25zdCBzdG9yZSA9IGdsb2JhbFRoaXMuX19jYXJlc3JlX3N0b3JlO1xyXG5cclxuLy8gUGF0aWVudCBvcGVyYXRpb25zXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXRpZW50KHBhdGllbnQ6IFBhdGllbnRSZWNvcmQpOiB2b2lkIHtcclxuICAgIC8vIEFkZCBzdGF0dXMgZmllbGQgaWYgbm90IHByZXNlbnRcclxuICAgIGNvbnN0IHBhdGllbnRXaXRoU3RhdHVzID0ge1xyXG4gICAgICAgIC4uLnBhdGllbnQsXHJcbiAgICAgICAgc3RhdHVzOiBwYXRpZW50LnN0YXR1cyB8fCAnd2FpdGluZydcclxuICAgIH07XHJcbiAgICBzdG9yZS5wYXRpZW50cy51bnNoaWZ0KHBhdGllbnRXaXRoU3RhdHVzKTsgLy8gQWRkIHRvIGZyb250IChtb3N0IHJlY2VudCBmaXJzdClcclxuXHJcbiAgICAvLyBVcGRhdGUgcXVldWUgc3RhdHNcclxuICAgIGNvbnN0IGRlcHQgPSBwYXRpZW50LmRlcGFydG1lbnQ7XHJcbiAgICBpZiAoc3RvcmUucXVldWVTdGF0c1tkZXB0XSkge1xyXG4gICAgICAgIHN0b3JlLnF1ZXVlU3RhdHNbZGVwdF0uYWN0aXZlUGF0aWVudHMrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RvcmUucXVldWVTdGF0c1tkZXB0XSA9IHsgYWN0aXZlUGF0aWVudHM6IDEsIGF2Z0NvbnN1bHRUaW1lOiAxNSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIEFkZGVkIHBhdGllbnQgJHtwYXRpZW50Lm5hbWV9LCB0b3RhbDogJHtzdG9yZS5wYXRpZW50cy5sZW5ndGh9YCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYXRpZW50U3RhdHVzKGlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBwYXRpZW50ID0gc3RvcmUucGF0aWVudHMuZmluZChwID0+IHAuaWQgPT09IGlkKTtcclxuICAgIGlmIChwYXRpZW50KSB7XHJcbiAgICAgICAgKHBhdGllbnQgYXMgYW55KS5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtTdG9yZV0gVXBkYXRlZCBwYXRpZW50ICR7aWR9IHN0YXR1cyB0byAke3N0YXR1c31gKTtcclxuXHJcbiAgICAgICAgLy8gSWYgY29tcGxldGVkLCBkZWNyZW1lbnQgYWN0aXZlIGNvdW50XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgJiYgc3RvcmUucXVldWVTdGF0c1twYXRpZW50LmRlcGFydG1lbnRdKSB7XHJcbiAgICAgICAgICAgIHN0b3JlLnF1ZXVlU3RhdHNbcGF0aWVudC5kZXBhcnRtZW50XS5hY3RpdmVQYXRpZW50cyA9IE1hdGgubWF4KFxyXG4gICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgIHN0b3JlLnF1ZXVlU3RhdHNbcGF0aWVudC5kZXBhcnRtZW50XS5hY3RpdmVQYXRpZW50cyAtIDFcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRpZW50cygpOiBQYXRpZW50UmVjb3JkW10ge1xyXG4gICAgcmV0dXJuIFsuLi5zdG9yZS5wYXRpZW50c107IC8vIFJldHVybiBjb3B5XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRpZW50KGlkOiBzdHJpbmcpOiBQYXRpZW50UmVjb3JkIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBzdG9yZS5wYXRpZW50cy5maW5kKHAgPT4gcC5pZCA9PT0gaWQpO1xyXG59XHJcblxyXG4vLyBBbGlhcyBmb3IgQVBJIHJvdXRlc1xyXG5leHBvcnQgY29uc3QgZ2V0UGF0aWVudEJ5SWQgPSBnZXRQYXRpZW50O1xyXG5cclxuLy8gQWxlcnQgb3BlcmF0aW9uc1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkQWxlcnQoYWxlcnQ6IEFsZXJ0KTogdm9pZCB7XHJcbiAgICBzdG9yZS5hbGVydHMudW5zaGlmdChhbGVydCk7XHJcbiAgICBjb25zb2xlLmxvZyhgW1N0b3JlXSBBZGRlZCBhbGVydCBmb3IgJHthbGVydC5wYXRpZW50TmFtZX0sIHRvdGFsOiAke3N0b3JlLmFsZXJ0cy5sZW5ndGh9YCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGVydHModW5yZXNvbHZlZE9ubHk6IGJvb2xlYW4gPSB0cnVlKTogQWxlcnRbXSB7XHJcbiAgICBpZiAodW5yZXNvbHZlZE9ubHkpIHtcclxuICAgICAgICByZXR1cm4gc3RvcmUuYWxlcnRzLmZpbHRlcihhID0+ICFhLnJlc29sdmVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBbLi4uc3RvcmUuYWxlcnRzXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBbGVydChpZDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBhbGVydCA9IHN0b3JlLmFsZXJ0cy5maW5kKGEgPT4gYS5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGFsZXJ0KSB7XHJcbiAgICAgICAgYWxlcnQucmVzb2x2ZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcmVdIFJlc29sdmVkIGFsZXJ0ICR7aWR9YCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vIFF1ZXVlIG9wZXJhdGlvbnNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXVlU3RhdHMoKTogUmVjb3JkPHN0cmluZywgUXVldWVEYXRhPiB7XHJcbiAgICByZXR1cm4geyAuLi5zdG9yZS5xdWV1ZVN0YXRzIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRRdWV1ZUZvckRlcGFydG1lbnQoZGVwYXJ0bWVudDogc3RyaW5nKTogUXVldWVEYXRhIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gc3RvcmUucXVldWVTdGF0c1tkZXBhcnRtZW50XSB8fCBudWxsO1xyXG59XHJcblxyXG4vLyBTdGF0c1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsUGF0aWVudHM6IHN0b3JlLnBhdGllbnRzLmxlbmd0aCxcclxuICAgICAgICBhY3RpdmVBbGVydHM6IHN0b3JlLmFsZXJ0cy5maWx0ZXIoYSA9PiAhYS5yZXNvbHZlZCkubGVuZ3RoLFxyXG4gICAgICAgIGRlcGFydG1lbnRzOiBPYmplY3Qua2V5cyhzdG9yZS5xdWV1ZVN0YXRzKS5sZW5ndGhcclxuICAgIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbImdsb2JhbFRoaXMiLCJfX2NhcmVzcmVfc3RvcmUiLCJwYXRpZW50cyIsImFsZXJ0cyIsInF1ZXVlU3RhdHMiLCJhY3RpdmVQYXRpZW50cyIsImF2Z0NvbnN1bHRUaW1lIiwic3RvcmUiLCJhZGRQYXRpZW50IiwicGF0aWVudCIsInBhdGllbnRXaXRoU3RhdHVzIiwic3RhdHVzIiwidW5zaGlmdCIsImRlcHQiLCJkZXBhcnRtZW50IiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJsZW5ndGgiLCJ1cGRhdGVQYXRpZW50U3RhdHVzIiwiaWQiLCJmaW5kIiwicCIsIk1hdGgiLCJtYXgiLCJnZXRQYXRpZW50cyIsImdldFBhdGllbnQiLCJnZXRQYXRpZW50QnlJZCIsImFkZEFsZXJ0IiwiYWxlcnQiLCJwYXRpZW50TmFtZSIsImdldEFsZXJ0cyIsInVucmVzb2x2ZWRPbmx5IiwiZmlsdGVyIiwiYSIsInJlc29sdmVkIiwicmVzb2x2ZUFsZXJ0IiwiZ2V0UXVldWVTdGF0cyIsImdldFF1ZXVlRm9yRGVwYXJ0bWVudCIsImdldFN0YXRzIiwidG90YWxQYXRpZW50cyIsImFjdGl2ZUFsZXJ0cyIsImRlcGFydG1lbnRzIiwiT2JqZWN0Iiwia2V5cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/store.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateETA: () => (/* binding */ calculateETA),\n/* harmony export */   cleanGeminiResponse: () => (/* binding */ cleanGeminiResponse),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getDeptCode: () => (/* binding */ getDeptCode),\n/* harmony export */   safeParseJSON: () => (/* binding */ safeParseJSON),\n/* harmony export */   validatePatientInput: () => (/* binding */ validatePatientInput)\n/* harmony export */ });\n// CareSRE Backend - Utility Functions\n/**\r\n * Get department code (first 2 letters, uppercase)\r\n * @example getDeptCode(\"Cardiology\")  \"CA\"\r\n * @example getDeptCode(\"General Medicine\")  \"GE\"\r\n */ function getDeptCode(department) {\n    if (!department || department.trim().length === 0) {\n        return \"GM\"; // Default to General Medicine\n    }\n    return department.trim().substring(0, 2).toUpperCase();\n}\n/**\r\n * Generate OPD token from department name and position\r\n * @example generateToken(\"General Medicine\", 42)  \"GE-042\"\r\n */ function generateToken(department, position) {\n    const deptCode = getDeptCode(department);\n    const paddedNumber = position.toString().padStart(3, '0');\n    return `${deptCode}-${paddedNumber}`;\n}\n/**\r\n * Calculate ETA based on position and avg consult time\r\n * Minimum ETA is always 5 minutes\r\n * @example calculateETA(3, 15)  45 (minutes)\r\n */ function calculateETA(position, avgConsultTime = 15) {\n    const calculatedETA = position * avgConsultTime;\n    return Math.max(5, calculatedETA);\n}\n/**\r\n * Validate patient input data\r\n * @throws Error with specific message if invalid\r\n */ function validatePatientInput(data) {\n    if (!data || typeof data !== 'object') {\n        throw new Error(\"Invalid input: Request body must be a valid object\");\n    }\n    const input = data;\n    // Validate name\n    if (!input.name || typeof input.name !== 'string' || input.name.trim().length === 0) {\n        throw new Error(\"Invalid input: 'name' is required and must be a non-empty string\");\n    }\n    // Validate age\n    if (input.age === undefined || input.age === null) {\n        throw new Error(\"Invalid input: 'age' is required\");\n    }\n    const ageNum = typeof input.age === 'string' ? parseInt(input.age, 10) : input.age;\n    if (typeof ageNum !== 'number' || isNaN(ageNum) || ageNum < 0 || ageNum > 150) {\n        throw new Error(\"Invalid input: 'age' must be a valid number between 0 and 150\");\n    }\n    // Validate symptoms\n    if (!input.symptoms || typeof input.symptoms !== 'string' || input.symptoms.trim().length === 0) {\n        throw new Error(\"Invalid input: 'symptoms' is required and must be a non-empty string\");\n    }\n}\n/**\r\n * Clean Gemini response (remove markdown artifacts like ```json)\r\n */ function cleanGeminiResponse(text) {\n    if (!text) return \"\";\n    let cleaned = text.trim();\n    // Remove ```json or ``` at the start\n    cleaned = cleaned.replace(/^```(?:json)?\\s*/i, '');\n    // Remove ``` at the end\n    cleaned = cleaned.replace(/\\s*```$/i, '');\n    // Remove any leading/trailing whitespace\n    cleaned = cleaned.trim();\n    return cleaned;\n}\n/**\r\n * Safely parse JSON from Gemini response\r\n * @returns Parsed object or null if parsing fails\r\n */ function safeParseJSON(text) {\n    try {\n        const cleaned = cleanGeminiResponse(text);\n        return JSON.parse(cleaned);\n    } catch (error) {\n        console.error(\"[Utils] JSON parsing failed:\", error);\n        console.error(\"[Utils] Original text:\", text);\n        return null;\n    }\n}\n/**\r\n * Generate a unique ID for records\r\n */ function generateId() {\n    return `${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hFIiwic291cmNlcyI6WyJEOlxcaGFja2F0aG9uXFxnZGdcXHNyY1xcbGliXFx1dGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDYXJlU1JFIEJhY2tlbmQgLSBVdGlsaXR5IEZ1bmN0aW9uc1xyXG5cclxuaW1wb3J0IHsgUGF0aWVudElucHV0IH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG4vKipcclxuICogR2V0IGRlcGFydG1lbnQgY29kZSAoZmlyc3QgMiBsZXR0ZXJzLCB1cHBlcmNhc2UpXHJcbiAqIEBleGFtcGxlIGdldERlcHRDb2RlKFwiQ2FyZGlvbG9neVwiKSDihpIgXCJDQVwiXHJcbiAqIEBleGFtcGxlIGdldERlcHRDb2RlKFwiR2VuZXJhbCBNZWRpY2luZVwiKSDihpIgXCJHRVwiXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVwdENvZGUoZGVwYXJ0bWVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghZGVwYXJ0bWVudCB8fCBkZXBhcnRtZW50LnRyaW0oKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gXCJHTVwiOyAvLyBEZWZhdWx0IHRvIEdlbmVyYWwgTWVkaWNpbmVcclxuICAgIH1cclxuICAgIHJldHVybiBkZXBhcnRtZW50LnRyaW0oKS5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlIE9QRCB0b2tlbiBmcm9tIGRlcGFydG1lbnQgbmFtZSBhbmQgcG9zaXRpb25cclxuICogQGV4YW1wbGUgZ2VuZXJhdGVUb2tlbihcIkdlbmVyYWwgTWVkaWNpbmVcIiwgNDIpIOKGkiBcIkdFLTA0MlwiXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbihkZXBhcnRtZW50OiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGVwdENvZGUgPSBnZXREZXB0Q29kZShkZXBhcnRtZW50KTtcclxuICAgIGNvbnN0IHBhZGRlZE51bWJlciA9IHBvc2l0aW9uLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgJzAnKTtcclxuICAgIHJldHVybiBgJHtkZXB0Q29kZX0tJHtwYWRkZWROdW1iZXJ9YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBFVEEgYmFzZWQgb24gcG9zaXRpb24gYW5kIGF2ZyBjb25zdWx0IHRpbWVcclxuICogTWluaW11bSBFVEEgaXMgYWx3YXlzIDUgbWludXRlc1xyXG4gKiBAZXhhbXBsZSBjYWxjdWxhdGVFVEEoMywgMTUpIOKGkiA0NSAobWludXRlcylcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVFVEEocG9zaXRpb246IG51bWJlciwgYXZnQ29uc3VsdFRpbWU6IG51bWJlciA9IDE1KTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGNhbGN1bGF0ZWRFVEEgPSBwb3NpdGlvbiAqIGF2Z0NvbnN1bHRUaW1lO1xyXG4gICAgcmV0dXJuIE1hdGgubWF4KDUsIGNhbGN1bGF0ZWRFVEEpO1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgcGF0aWVudCBpbnB1dCBkYXRhXHJcbiAqIEB0aHJvd3MgRXJyb3Igd2l0aCBzcGVjaWZpYyBtZXNzYWdlIGlmIGludmFsaWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBhdGllbnRJbnB1dChkYXRhOiB1bmtub3duKTogYXNzZXJ0cyBkYXRhIGlzIFBhdGllbnRJbnB1dCB7XHJcbiAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dDogUmVxdWVzdCBib2R5IG11c3QgYmUgYSB2YWxpZCBvYmplY3RcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5wdXQgPSBkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cclxuICAgIC8vIFZhbGlkYXRlIG5hbWVcclxuICAgIGlmICghaW5wdXQubmFtZSB8fCB0eXBlb2YgaW5wdXQubmFtZSAhPT0gJ3N0cmluZycgfHwgaW5wdXQubmFtZS50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dDogJ25hbWUnIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBhZ2VcclxuICAgIGlmIChpbnB1dC5hZ2UgPT09IHVuZGVmaW5lZCB8fCBpbnB1dC5hZ2UgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0OiAnYWdlJyBpcyByZXF1aXJlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhZ2VOdW0gPSB0eXBlb2YgaW5wdXQuYWdlID09PSAnc3RyaW5nJyA/IHBhcnNlSW50KGlucHV0LmFnZSwgMTApIDogaW5wdXQuYWdlO1xyXG4gICAgaWYgKHR5cGVvZiBhZ2VOdW0gIT09ICdudW1iZXInIHx8IGlzTmFOKGFnZU51bSkgfHwgYWdlTnVtIDwgMCB8fCBhZ2VOdW0gPiAxNTApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0OiAnYWdlJyBtdXN0IGJlIGEgdmFsaWQgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTUwXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXRlIHN5bXB0b21zXHJcbiAgICBpZiAoIWlucHV0LnN5bXB0b21zIHx8IHR5cGVvZiBpbnB1dC5zeW1wdG9tcyAhPT0gJ3N0cmluZycgfHwgaW5wdXQuc3ltcHRvbXMudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQ6ICdzeW1wdG9tcycgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2xlYW4gR2VtaW5pIHJlc3BvbnNlIChyZW1vdmUgbWFya2Rvd24gYXJ0aWZhY3RzIGxpa2UgYGBganNvbilcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkdlbWluaVJlc3BvbnNlKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXRleHQpIHJldHVybiBcIlwiO1xyXG5cclxuICAgIGxldCBjbGVhbmVkID0gdGV4dC50cmltKCk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIGBgYGpzb24gb3IgYGBgIGF0IHRoZSBzdGFydFxyXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXmBgYCg/Ompzb24pP1xccyovaSwgJycpO1xyXG5cclxuICAgIC8vIFJlbW92ZSBgYGAgYXQgdGhlIGVuZFxyXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxzKmBgYCQvaSwgJycpO1xyXG5cclxuICAgIC8vIFJlbW92ZSBhbnkgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlXHJcbiAgICBjbGVhbmVkID0gY2xlYW5lZC50cmltKCk7XHJcblxyXG4gICAgcmV0dXJuIGNsZWFuZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTYWZlbHkgcGFyc2UgSlNPTiBmcm9tIEdlbWluaSByZXNwb25zZVxyXG4gKiBAcmV0dXJucyBQYXJzZWQgb2JqZWN0IG9yIG51bGwgaWYgcGFyc2luZyBmYWlsc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVQYXJzZUpTT048VD4odGV4dDogc3RyaW5nKTogVCB8IG51bGwge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjbGVhbmVkID0gY2xlYW5HZW1pbmlSZXNwb25zZSh0ZXh0KTtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjbGVhbmVkKSBhcyBUO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiW1V0aWxzXSBKU09OIHBhcnNpbmcgZmFpbGVkOlwiLCBlcnJvcik7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltVdGlsc10gT3JpZ2luYWwgdGV4dDpcIiwgdGV4dCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgcmVjb3Jkc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXREZXB0Q29kZSIsImRlcGFydG1lbnQiLCJ0cmltIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwidG9VcHBlckNhc2UiLCJnZW5lcmF0ZVRva2VuIiwicG9zaXRpb24iLCJkZXB0Q29kZSIsInBhZGRlZE51bWJlciIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJjYWxjdWxhdGVFVEEiLCJhdmdDb25zdWx0VGltZSIsImNhbGN1bGF0ZWRFVEEiLCJNYXRoIiwibWF4IiwidmFsaWRhdGVQYXRpZW50SW5wdXQiLCJkYXRhIiwiRXJyb3IiLCJpbnB1dCIsIm5hbWUiLCJhZ2UiLCJ1bmRlZmluZWQiLCJhZ2VOdW0iLCJwYXJzZUludCIsImlzTmFOIiwic3ltcHRvbXMiLCJjbGVhbkdlbWluaVJlc3BvbnNlIiwidGV4dCIsImNsZWFuZWQiLCJyZXBsYWNlIiwic2FmZVBhcnNlSlNPTiIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImdlbmVyYXRlSWQiLCJEYXRlIiwibm93IiwicmFuZG9tIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpatient%2Fcreate%2Froute&page=%2Fapi%2Fpatient%2Fcreate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpatient%2Fcreate%2Froute.ts&appDir=D%3A%5Chackathon%5Cgdg%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Chackathon%5Cgdg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();